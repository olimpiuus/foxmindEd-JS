(()=>{var e={619:(e,t,i)=>{e.exports=i.p+"imgs/moon-waning-crescent.c3556d440980c942661792fe126a221b.svg"},776:(e,t,i)=>{e.exports=i.p+"imgs/white-balance-sunny.192e78bb875e4f1909eae6d408e72fae.svg"},766:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>r});var n=i(91),s=i.n(n),o=new URL(i(376),i.b);const r='<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width/ninitial-scale=1"> <title>Country</title> <link rel="stylesheet" href="'+s()(o)+'"> </head> <body> <header class="header"> <h1 class="header__title">Where in the world?</h1> <div class="header__btn-mode-block"></div> </header> <main class="countries__container"> <form action="" class="countries__search-form"> <section class="country__search search"> <input class="search__input" type="search" placeholder="Search city" name="city" id="searchLocation"> <ul class="search__options"></ul> </section> <select class="search__select-region" name="regions" id="sel1"> <option value="Initial">--Please choose a region--</option> <option value="All">All</option> <option value="Africa">Africa</option> <option value="Americas">Americas</option> <option value="Asia">Asia</option> <option value="Europe">Europe</option> <option value="Oceania">Oceania</option> </select> </form> <div class="countries__list-wrapper"> <ul class="countries__list"> </ul> <div class="spinner-wrapper spinner-deactivated"> <div class="spinner"></div> </div> </div> </main> </body> </html> '},91:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},111:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{a(n.next(e))}catch(e){o(e)}}function c(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}a((n=n.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(i(269)),r=s(i(727)),c=new class{constructor(){this._selectListener=()=>{this.select.addEventListener("change",(()=>n(this,void 0,void 0,(function*(){this._selectChoice=this.select.value,"All"===this._selectChoice?this._selectRegion=yield o.default.getAllCountries():this._selectRegion=yield o.default.getCountiesFromRegionsRequest(this._selectChoice),r.default.addArrayCountries(this._selectRegion)}))))},this._getValue=()=>{if("All"===this.select.value||"Initial"===this.select.value)return o.default.getSearchResults(this.element.value);{const e=this.element.value.split("");return this._selectRegion.filter((t=>{let i=!0;const n=t.name.split("");return e.forEach((e=>{const t=n.findIndex((t=>t===e));-1!==t?n.splice(t,1):i=!1})),i})).map((e=>e.name))}},this._addOption=e=>{this.options.insertAdjacentHTML("beforeend",`\n    <div class="search__option">${e}</div>\n  `)},this.clearOptions=()=>this.options.innerHTML="",this._updateDom=()=>n(this,void 0,void 0,(function*(){let e;this.element.addEventListener("keyup",(()=>{e&&clearTimeout(e),e=setTimeout((()=>n(this,void 0,void 0,(function*(){this.clearOptions();try{(yield this._getValue()).forEach((e=>this._addOption(e)))}catch(e){this.clearOptions(),this._addOption("Country not found")}""===this.element.value&&this.clearOptions()}))),500)}))})),this.element=document.querySelector(".search__input"),this.options=document.querySelector(".search__options"),this.select=document.querySelector(".search__select-region"),this._selectChoice=null,this._selectRegion=[],this._updateDom(),this._selectListener()}};t.default=c},791:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{a(n.next(e))}catch(e){o(e)}}function c(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}a((n=n.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(i(727)),r=s(i(269)),c=s(i(111)),a=s(i(534));(new class{constructor(){this.handler=()=>{document.addEventListener("click",(e=>n(this,void 0,void 0,(function*(){const t=e.target;if(t instanceof HTMLElement){if(t.classList.contains("search__option")){if(!t.textContent||"Country not found"===t.textContent)return;const e=yield r.default.getCountry(t.textContent);o.default.addArrayCountries([e]),c.default.clearOptions(),c.default.element.value=e.name}t.closest(".header__btn-mode-block")&&a.default.changeTheme()}}))))}}}).handler()},937:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,i,n,s){this.name=e,this.population=t,this.region=i,this.capital=n,this.img=s,this.getCountry=()=>this}}},269:function(e,t,i){"use strict";var n=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(s,o){function r(e){try{a(n.next(e))}catch(e){o(e)}}function c(e){try{a(n.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,c)}a((n=n.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=s(i(937)),r=new class{constructor(){this._requestByName=e=>n(this,void 0,void 0,(function*(){const t=yield fetch(`https://restcountries.com/v3.1/name/${e}`);return yield t.json()})),this._requestByRegion=e=>n(this,void 0,void 0,(function*(){const t=yield fetch(`https://restcountries.com/v3.1/region/${e}`);return yield t.json()})),this._requestAll=()=>n(this,void 0,void 0,(function*(){const e=yield fetch("https://restcountries.com/v3.1/all");return yield e.json()})),this._getCountryObjFromAnswer=e=>{const{capital:t,name:{official:i},population:n,region:s,flags:{svg:r}}=e;return new o.default(i,n,s,t,r)},this._getCountriesFromRequest=e=>e.map((e=>this._getCountryObjFromAnswer(e))),this.getCountry=e=>n(this,void 0,void 0,(function*(){const t=yield this._requestByName(e);return this._getCountriesFromRequest(t)[0]})),this.getCountiesFromRegionsRequest=e=>n(this,void 0,void 0,(function*(){const t=yield this._requestByRegion(e);return this._getCountriesFromRequest(t)})),this.getSearchResults=e=>n(this,void 0,void 0,(function*(){return(yield this._requestByName(e)).map((e=>e.name.official))})),this.getAllCountries=()=>n(this,void 0,void 0,(function*(){const e=yield this._requestAll();return this._getCountriesFromRequest(e)}))}};t.default=r},727:function(e,t,i){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(i(152)),o=new class{constructor(){this.clearList=()=>{this.list.innerHTML=""},this.addCountry=({name:e,population:t,region:i,capital:n,img:s})=>{this.list.insertAdjacentHTML("beforeend",`\n    <li class="countries__country-item country">\n        <img src="${s}" alt="" class="country__flag">\n        <div class="country__description">\n            <h3 class="country__title">${e}</h3>\n            <p class="country__info"><b>Population: </b>${t}</p>\n            <p class="country__info"><b>Region:</b> ${i}</p>\n            <p class="country__info"><b>Capital:</b> ${n}</p>\n        </div>\n    </li>`)},this.addArrayCountries=e=>{s.default.activate(),this.clearList(),e.forEach((e=>this.addCountry(e))),setTimeout((()=>{s.default.deactivate()}),500)},this.list=document.querySelector(".countries__list")}};t.default=o},152:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=new class{constructor(){this.activate=()=>{this.element.classList.remove("spinner-deactivated"),this.element.classList.add("spinner-active")},this.deactivate=()=>{this.element.classList.remove("spinner-active"),this.element.classList.add("spinner-deactivated")},this.element=document.querySelector(".spinner-wrapper")}};t.default=i},534:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=new class{constructor(){this._renderDark=()=>{this.element.innerHTML=`<img class="header__btn-img" src="${this.img.sun}" alt="">\n      <button class="header__btn-mode">Light Mode</button>`},this._renderLight=()=>{this.element.innerHTML=`<img class="header__btn-img" src="${this.img.moon}" alt="">\n      <button class="header__btn-mode">Dark Mode</button>`},this._renderBtn=()=>{"dark"===this._customerTheme?this._renderDark():this._renderLight()},this._initialize=()=>{document.documentElement.setAttribute("data-theme",this._customerTheme),this._renderBtn()},this.changeTheme=()=>{let e;e="light"===this._customerTheme?"dark":"light",document.documentElement.setAttribute("data-theme",e),this._customerTheme=e,n._renderBtn()},this.element=document.querySelector(".header__btn-mode-block"),this.img={sun:i(776),moon:i(619)},this._customerTheme=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",this._initialize()}};t.default=n},376:(e,t,i)=>{"use strict";e.exports=i.p+"css/style.css"}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,i),o.exports}i.m=e,i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i.b=document.baseURI||self.location.href,(()=>{"use strict";i(766),i(791)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiMkJBQUFBLEVBQU9DLFFBQVUsSUFBMEIsZ0UsZ0JDQTNDRCxFQUFPQyxRQUFVLElBQTBCLCtELGdGQ0V2Q0MsRUFBNkIsSUFBSUMsSUFBSSxZQUt6QyxRQUZXLGlQQUQyQixJQUF5Q0QsR0FDZ08scTlCLHNCQ0gvU0YsRUFBT0MsUUFBVSxTQUFVRyxFQUFLQyxHQU05QixPQUxLQSxJQUVIQSxFQUFVLENBQUMsR0FHUkQsR0FLTEEsRUFBTUUsT0FBT0YsRUFBSUcsV0FBYUgsRUFBSUksUUFBVUosR0FFeENDLEVBQVFJLE9BRVZMLEdBQU9DLEVBQVFJLE1BR2JKLEVBQVFLLGlCQUFtQixvQkFBb0JDLEtBQUtQLEdBQy9DLElBQUtRLE9BQU9SLEVBQUssS0FHbkJBLEdBZkVBLENBZ0JYLEMsb2VDeEJBLGtCQUNBLFlBK0VNUyxFQUFTLElBNUVmLE1BTUVDLGNBVVEsS0FBQUMsZ0JBQWtCLEtBQ3hCQyxLQUFLQyxPQUFPQyxpQkFBaUIsVUFBVSxJQUFVLGtDQUMvQ0YsS0FBS0csY0FBZ0JILEtBQUtDLE9BQU9HLE1BQ1IsUUFBckJKLEtBQUtHLGNBQ1BILEtBQUtLLG9CQUFzQixVQUFRQyxrQkFFbkNOLEtBQUtLLG9CQUFzQixVQUFRRSw4QkFBOEJQLEtBQUtHLGVBRXhFLFVBQVNLLGtCQUFrQlIsS0FBS0ssY0FDbEMsS0FBRSxFQUdJLEtBQUFJLFVBQVksS0FDbEIsR0FBd0IsUUFBcEJULEtBQUtDLE9BQU9HLE9BQW1DLFlBQXBCSixLQUFLQyxPQUFPRyxNQUN6QyxPQUFPLFVBQVFNLGlCQUFpQlYsS0FBS1csUUFBUVAsT0FDeEMsQ0FDTCxNQUFNUSxFQUFnQlosS0FBS1csUUFBUVAsTUFBTVMsTUFBTSxJQVUvQyxPQVRrQmIsS0FBS0ssY0FBY1MsUUFBT0MsSUFDMUMsSUFBSUMsR0FBUSxFQUNaLE1BQU1DLEVBQU9GLEVBQVFFLEtBQUtKLE1BQU0sSUFLaEMsT0FKQUQsRUFBY00sU0FBUUMsSUFDcEIsTUFBTUMsRUFBUUgsRUFBS0ksV0FBVUMsR0FBSUEsSUFBS0gsS0FDekIsSUFBVEMsRUFBYUgsRUFBS00sT0FBT0gsRUFBTSxHQUFVSixHQUFNLEMsSUFFOUNBLENBQUssSUFFR1EsS0FBSVQsR0FBU0EsRUFBUUUsTSxHQUlsQyxLQUFBUSxXQUFjckIsSUFDcEJKLEtBQUtYLFFBQVFxQyxtQkFBbUIsWUFBYSxxQ0FDZnRCLGNBQzlCLEVBR0YsS0FBQXVCLGFBQWUsSUFBSTNCLEtBQUtYLFFBQVF1QyxVQUFVLEdBRWxDLEtBQUFDLFdBQWEsSUFBVSxrQ0FDN0IsSUFBSUMsRUFDSjlCLEtBQUtXLFFBQVFULGlCQUFpQixTQUFTLEtBRWpDNEIsR0FBUUMsYUFBYUQsR0FDekJBLEVBQVFFLFlBQVcsSUFBVSxrQ0FDM0JoQyxLQUFLMkIsZUFDTCxXQUM2QjNCLEtBQUtTLGFBQ25CUyxTQUFRSSxHQUFJdEIsS0FBS3lCLFdBQVdILEksQ0FFM0MsTUFBTVcsR0FDSmpDLEtBQUsyQixlQUNMM0IsS0FBS3lCLFdBQVcsb0IsQ0FFUyxLQUFyQnpCLEtBQUtXLFFBQVFQLE9BQWNKLEtBQUsyQixjQUN0QyxLQUNHLElBQUksR0FFYixJQWxFRTNCLEtBQUtXLFFBQVV1QixTQUFTQyxjQUFjLGtCQUN0Q25DLEtBQUtYLFFBQVU2QyxTQUFTQyxjQUFjLG9CQUN0Q25DLEtBQUtDLE9BQVNpQyxTQUFTQyxjQUFjLDBCQUNyQ25DLEtBQUtHLGNBQWdCLEtBQ3JCSCxLQUFLSyxjQUFjLEdBQ25CTCxLQUFLNkIsYUFDTDdCLEtBQUtELGlCQUNQLEdBZ0VGLFVBQWdCRixDLG9lQ25GaEIsa0JBQ0EsWUFDQSxZQUNBLGFBMkJBLElBekJBLE1BRUVDLGNBQ0VFLEtBQUtvQyxRQUFVLEtBQ2JGLFNBQVNoQyxpQkFBaUIsU0FBZ0JtQyxHQUFRLGtDQUNoRCxNQUFNQyxFQUFVRCxFQUFNQyxPQUN0QixHQUFNQSxhQUFrQkMsWUFBeEIsQ0FHQSxHQUFJRCxFQUFPRSxVQUFVQyxTQUFTLGtCQUFtQixDQUMvQyxJQUFLSCxFQUFPSSxhQUFvQyxzQkFBckJKLEVBQU9JLFlBQW9DLE9BQ3RFLE1BQU0zQixRQUFnQixVQUFRNEIsV0FBV0wsRUFBT0ksYUFDaEQsVUFBU2xDLGtCQUFrQixDQUFDTyxJQUM1QixVQUFPWSxlQUNQLFVBQU9oQixRQUFRUCxNQUFNVyxFQUFRRSxJLENBRzNCcUIsRUFBT00sUUFBUSw0QkFDakIsVUFBUUMsYSxDQUVaLEtBQUUsQ0FFTixJQUdpQlQsUyw0RUNwQm5CLGdCQUNFdEMsWUFBbUJtQixFQUFvQjZCLEVBQXlCQyxFQUFxQkMsRUFBc0JDLEdBQXhGLEtBQUFoQyxLQUFBQSxFQUFvQixLQUFBNkIsV0FBQUEsRUFBeUIsS0FBQUMsT0FBQUEsRUFBcUIsS0FBQUMsUUFBQUEsRUFBc0IsS0FBQUMsSUFBQUEsRUFFM0csS0FBQU4sV0FBYSxJQUNKM0MsSUFGVCxFLG9lQ1hGLGtCQXNETWtELEVBQVUsSUFuRGhCLE1BQ0VwRCxjQUVRLEtBQUFxRCxlQUF3QkMsR0FBdUIsRUFBRCxnQ0FDbEQsTUFBTUMsUUFBZUMsTUFBTSx1Q0FBdUNGLEtBRWxFLGFBRG9DQyxFQUFPRSxNQUUvQyxJQUVRLEtBQUFDLGlCQUF5QlQsR0FBa0IsRUFBRCxnQ0FDaEQsTUFBTU0sUUFBZUMsTUFBTSx5Q0FBeUNQLEtBRXBFLGFBRG9DTSxFQUFPRSxNQUU3QyxJQUVRLEtBQUFFLFlBQWEsSUFBWSxFQUFELGdDQUM5QixNQUFNSixRQUFlQyxNQUFNLHNDQUUzQixhQURvQ0QsRUFBT0UsTUFFN0MsSUFFUSxLQUFBRyx5QkFBNEJMLElBQ2xDLE1BQU0sUUFBQ0wsRUFBUy9CLE1BQU0wQyxTQUFTMUMsR0FBSyxXQUFFNkIsRUFBVSxPQUFDQyxFQUFPYSxPQUFPQyxJQUFJWixJQUFRSSxFQUMzRSxPQUFPLElBQUksVUFBUXBDLEVBQUs2QixFQUFXQyxFQUFPQyxFQUFRQyxFQUFJLEVBR2hELEtBQUFhLHlCQUE0QkMsR0FDM0JBLEVBQUt2QyxLQUFLd0MsR0FBYWhFLEtBQUswRCx5QkFBeUJNLEtBRzlELEtBQUFyQixXQUFvQlMsR0FBdUIsRUFBRCxnQ0FDeEMsTUFBTVcsUUFBYS9ELEtBQUttRCxlQUFlQyxHQUN2QyxPQUFPcEQsS0FBSzhELHlCQUF5QkMsR0FBTSxFQUM3QyxJQUVBLEtBQUF4RCw4QkFBdUN3QyxHQUFnQixrQ0FDckQsTUFBTWdCLFFBQWEvRCxLQUFLd0QsaUJBQWlCVCxHQUN6QyxPQUFPL0MsS0FBSzhELHlCQUF5QkMsRUFDdkMsSUFFQSxLQUFBckQsaUJBQTBCMEMsR0FBdUIsRUFBRCxnQ0FHOUMsYUFGbUJwRCxLQUFLbUQsZUFBZUMsSUFDZjVCLEtBQUl5QyxHQUFNQSxFQUFLaEQsS0FBSzBDLFVBRTlDLElBQ0EsS0FBQXJELGdCQUFpQixJQUFZLEVBQUQsZ0NBQzFCLE1BQU15RCxRQUFhL0QsS0FBS3lELGNBQ3hCLE9BQU96RCxLQUFLOEQseUJBQXlCQyxFQUN2QyxHQS9DZSxHQW1EakIsVUFBZWIsQyx3S0N2RGYsa0JBZ0NNZ0IsRUFBVyxJQTlCaEIsTUFFQ3BFLGNBR0EsS0FBQXFFLFVBQVksS0FDVm5FLEtBQUtvRSxLQUFLeEMsVUFBWSxFQUFFLEVBRTFCLEtBQUF5QyxXQUFhLEVBQUVwRCxPQUFNNkIsYUFBV0MsU0FBT0MsVUFBUUMsVUFDN0NqRCxLQUFLb0UsS0FBSzFDLG1CQUFtQixZQUFhLHlFQUUxQnVCLHdIQUVxQmhDLG1FQUNpQjZCLDhEQUNKQywrREFDQ0MsbUNBRTVDLEVBRVQsS0FBQXhDLGtCQUFxQjhELElBQ25CLFVBQVFDLFdBQ1J2RSxLQUFLbUUsWUFDTEcsRUFBSXBELFNBQVFJLEdBQUl0QixLQUFLcUUsV0FBVy9DLEtBQ2hDVSxZQUFXLEtBQ1QsVUFBUXdDLFlBQVksR0FDbkIsSUFBSSxFQXZCUHhFLEtBQUtvRSxLQUFPbEMsU0FBU0MsY0FBYyxtQkFDckMsR0EyQkYsVUFBZStCLEMsNEVDcEJmLE1BQU1PLEVBQVUsSUFkaEIsTUFFRTNFLGNBR0EsS0FBQXlFLFNBQVcsS0FDVHZFLEtBQUtXLFFBQVE2QixVQUFVa0MsT0FBTyx1QkFDOUIxRSxLQUFLVyxRQUFRNkIsVUFBVW1DLElBQUksaUJBQWlCLEVBRTlDLEtBQUFILFdBQWEsS0FDWHhFLEtBQUtXLFFBQVE2QixVQUFVa0MsT0FBTyxrQkFDOUIxRSxLQUFLVyxRQUFRNkIsVUFBVW1DLElBQUksc0JBQXNCLEVBUmpEM0UsS0FBS1csUUFBVXVCLFNBQVNDLGNBQWMsbUJBQ3hDLEdBV0YsVUFBZXNDLEMsOEVDMkJmLE1BQU1HLEVBQVUsSUF6Q2hCLE1BT0U5RSxjQVVVLEtBQUErRSxZQUFjLEtBQ3BCN0UsS0FBS1csUUFBUWlCLFVBQVUscUNBQXFDNUIsS0FBS2lELElBQUk2QiwwRUFDaEIsRUFFL0MsS0FBQUMsYUFBZSxLQUNyQi9FLEtBQUtXLFFBQVFpQixVQUFVLHFDQUFxQzVCLEtBQUtpRCxJQUFJK0IsMEVBQ2pCLEVBRTlDLEtBQUFDLFdBQWEsS0FDRyxTQUF0QmpGLEtBQUtrRixlQUF3QmxGLEtBQUs2RSxjQUFjN0UsS0FBSytFLGNBQWMsRUFFN0QsS0FBQUksWUFBYyxLQUNwQmpELFNBQVNrRCxnQkFBZ0JDLGFBQWEsYUFBY3JGLEtBQUtrRixnQkFDekRsRixLQUFLaUYsWUFBWSxFQUVuQixLQUFBcEMsWUFBYyxLQUNaLElBQUl5QyxFQUM4QkEsRUFBVixVQUF4QnRGLEtBQUtrRixlQUEyQyxPQUF1QixRQUN2RWhELFNBQVNrRCxnQkFBZ0JDLGFBQWEsYUFBY0MsR0FDcER0RixLQUFLa0YsZUFBaUJJLEVBQ3RCVixFQUFRSyxZQUFZLEVBN0J0QmpGLEtBQUtXLFFBQVV1QixTQUFTQyxjQUFjLDJCQUN0Q25DLEtBQUtpRCxJQUFNLENBQ1Q2QixJQUFLLEVBQVMsS0FDZEUsS0FBTSxFQUFTLE1BRWpCaEYsS0FBS2tGLGVBQWlCSyxPQUFPQyxXQUFXLGdDQUFnQ0MsUUFBVSxPQUFTLFFBQzNGekYsS0FBS21GLGFBQ1AsR0E0QkYsVUFBZVAsQyw2REMzQ1hjLEVBQTJCLENBQUMsRUFHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYTVHLFFBR3JCLElBQUlELEVBQVMwRyxFQUF5QkUsR0FBWSxDQUdqRDNHLFFBQVMsQ0FBQyxHQU9YLE9BSEE4RyxFQUFvQkgsR0FBVUksS0FBS2hILEVBQU9DLFFBQVNELEVBQVFBLEVBQU9DLFFBQVMwRyxHQUdwRTNHLEVBQU9DLE9BQ2YsQ0FHQTBHLEVBQW9CTSxFQUFJRixFQ3hCeEJKLEVBQW9CTyxFQUFLbEgsSUFDeEIsSUFBSW1ILEVBQVNuSCxHQUFVQSxFQUFPTyxXQUM3QixJQUFPUCxFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQTJHLEVBQW9CUyxFQUFFRCxFQUFRLENBQUVFLEVBQUdGLElBQzVCQSxDQUFNLEVDTGRSLEVBQW9CUyxFQUFJLENBQUNuSCxFQUFTcUgsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYWCxFQUFvQmEsRUFBRUYsRUFBWUMsS0FBU1osRUFBb0JhLEVBQUV2SCxFQUFTc0gsSUFDNUVFLE9BQU9DLGVBQWV6SCxFQUFTc0gsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLElBRTFFLEVDTkRaLEVBQW9Ca0IsRUFBSSxXQUN2QixHQUEwQixpQkFBZkMsV0FBeUIsT0FBT0EsV0FDM0MsSUFDQyxPQUFPOUcsTUFBUSxJQUFJK0csU0FBUyxjQUFiLEVBR2hCLENBRkUsTUFBT0MsR0FDUixHQUFzQixpQkFBWHpCLE9BQXFCLE9BQU9BLE1BQ3hDLENBQ0EsQ0FQdUIsR0NBeEJJLEVBQW9CYSxFQUFJLENBQUNTLEVBQUtDLElBQVVULE9BQU9VLFVBQVVDLGVBQWVwQixLQUFLaUIsRUFBS0MsR0NDbEZ2QixFQUFvQjBCLEVBQUtwSSxJQUNILG9CQUFYcUksUUFBMEJBLE9BQU9DLGFBQzFDZCxPQUFPQyxlQUFlekgsRUFBU3FJLE9BQU9DLFlBQWEsQ0FBRW5ILE1BQU8sV0FFN0RxRyxPQUFPQyxlQUFlekgsRUFBUyxhQUFjLENBQUVtQixPQUFPLEdBQU8sRSxNQ0w5RCxJQUFJb0gsRUFDQTdCLEVBQW9Ca0IsRUFBRVksZ0JBQWVELEVBQVk3QixFQUFvQmtCLEVBQUVhLFNBQVcsSUFDdEYsSUFBSXhGLEVBQVd5RCxFQUFvQmtCLEVBQUUzRSxTQUNyQyxJQUFLc0YsR0FBYXRGLElBQ2JBLEVBQVN5RixnQkFDWkgsRUFBWXRGLEVBQVN5RixjQUFjQyxNQUMvQkosR0FBVyxDQUNmLElBQUlLLEVBQVUzRixFQUFTNEYscUJBQXFCLFVBQ3pDRCxFQUFRRSxTQUFRUCxFQUFZSyxFQUFRQSxFQUFRRSxPQUFTLEdBQUdILElBQzVELENBSUQsSUFBS0osRUFBVyxNQUFNLElBQUlRLE1BQU0seURBQ2hDUixFQUFZQSxFQUFVUyxRQUFRLE9BQVEsSUFBSUEsUUFBUSxRQUFTLElBQUlBLFFBQVEsWUFBYSxLQUNwRnRDLEVBQW9CdUMsRUFBSVYsQyxLQ2Z4QjdCLEVBQW9Cd0MsRUFBSWpHLFNBQVNrRyxTQUFXQyxLQUFLWCxTQUFTWSxLLG1CQ0MxRCxPQUdBLE0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qcy8uL3NyYy9hc3NldHMvaW1nL21vb24td2FuaW5nLWNyZXNjZW50LnN2ZyIsIndlYnBhY2s6Ly9qcy8uL3NyYy9hc3NldHMvaW1nL3doaXRlLWJhbGFuY2Utc3Vubnkuc3ZnIiwid2VicGFjazovL2pzLy4vc3JjL2luZGV4Lmh0bWwiLCJ3ZWJwYWNrOi8vanMvLi9ub2RlX21vZHVsZXMvaHRtbC1sb2FkZXIvZGlzdC9ydW50aW1lL2dldFVybC5qcyIsIndlYnBhY2s6Ly9qcy8uL3NyYy90cy9jb21wb25lbnQvYXBwLnRzIiwid2VicGFjazovL2pzLy4vc3JjL3RzL2NvbXBvbmVudC9jbGlja0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vanMvLi9zcmMvdHMvY29tcG9uZW50L2NvdW50cnkudHMiLCJ3ZWJwYWNrOi8vanMvLi9zcmMvdHMvY29tcG9uZW50L2dldERhdGEudHMiLCJ3ZWJwYWNrOi8vanMvLi9zcmMvdHMvY29tcG9uZW50L3JlbmRlckxpc3QudHMiLCJ3ZWJwYWNrOi8vanMvLi9zcmMvdHMvY29tcG9uZW50L3NwaW5uZXIudHMiLCJ3ZWJwYWNrOi8vanMvLi9zcmMvdHMvY29tcG9uZW50L3RoZW1lLnRzIiwid2VicGFjazovL2pzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2pzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL2pzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9qcy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL2pzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vanMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9qcy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9qcy93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9qcy8uL3NyYy90cy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJpbWdzL21vb24td2FuaW5nLWNyZXNjZW50LmMzNTU2ZDQ0MDk4MGM5NDI2NjE3OTJmZTEyNmEyMjFiLnN2Z1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImltZ3Mvd2hpdGUtYmFsYW5jZS1zdW5ueS4xOTJlNzhiYjg3NWU0ZjE5MDllYWU2ZDQwOGU3MmZhZS5zdmdcIjsiLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fSFRNTF9MT0FERVJfR0VUX1NPVVJDRV9GUk9NX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2h0bWwtbG9hZGVyL2Rpc3QvcnVudGltZS9nZXRVcmwuanNcIjtcbnZhciBfX19IVE1MX0xPQURFUl9JTVBPUlRfMF9fXyA9IG5ldyBVUkwoXCIuL3Nhc3Mvc3R5bGUuc2Fzc1wiLCBpbXBvcnQubWV0YS51cmwpO1xuLy8gTW9kdWxlXG52YXIgX19fSFRNTF9MT0FERVJfUkVQTEFDRU1FTlRfMF9fXyA9IF9fX0hUTUxfTE9BREVSX0dFVF9TT1VSQ0VfRlJPTV9JTVBPUlRfX18oX19fSFRNTF9MT0FERVJfSU1QT1JUXzBfX18pO1xudmFyIGNvZGUgPSBcIjwhRE9DVFlQRSBodG1sPiA8aHRtbCBsYW5nPVxcXCJlblxcXCI+IDxoZWFkPiA8bWV0YSBjaGFyc2V0PVxcXCJVVEYtOFxcXCI+IDxtZXRhIGh0dHAtZXF1aXY9XFxcIlgtVUEtQ29tcGF0aWJsZVxcXCIgY29udGVudD1cXFwiSUU9ZWRnZVxcXCI+IDxtZXRhIG5hbWU9XFxcInZpZXdwb3J0XFxcIiBjb250ZW50PVxcXCJ3aWR0aD1kZXZpY2Utd2lkdGgvbmluaXRpYWwtc2NhbGU9MVxcXCI+IDx0aXRsZT5Db3VudHJ5PC90aXRsZT4gPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiBocmVmPVxcXCJcIiArIF9fX0hUTUxfTE9BREVSX1JFUExBQ0VNRU5UXzBfX18gKyBcIlxcXCI+IDwvaGVhZD4gPGJvZHk+IDxoZWFkZXIgY2xhc3M9XFxcImhlYWRlclxcXCI+IDxoMSBjbGFzcz1cXFwiaGVhZGVyX190aXRsZVxcXCI+V2hlcmUgaW4gdGhlIHdvcmxkPzwvaDE+IDxkaXYgY2xhc3M9XFxcImhlYWRlcl9fYnRuLW1vZGUtYmxvY2tcXFwiPjwvZGl2PiA8L2hlYWRlcj4gPG1haW4gY2xhc3M9XFxcImNvdW50cmllc19fY29udGFpbmVyXFxcIj4gPGZvcm0gYWN0aW9uPVxcXCJcXFwiIGNsYXNzPVxcXCJjb3VudHJpZXNfX3NlYXJjaC1mb3JtXFxcIj4gPHNlY3Rpb24gY2xhc3M9XFxcImNvdW50cnlfX3NlYXJjaCBzZWFyY2hcXFwiPiA8aW5wdXQgY2xhc3M9XFxcInNlYXJjaF9faW5wdXRcXFwiIHR5cGU9XFxcInNlYXJjaFxcXCIgcGxhY2Vob2xkZXI9XFxcIlNlYXJjaCBjaXR5XFxcIiBuYW1lPVxcXCJjaXR5XFxcIiBpZD1cXFwic2VhcmNoTG9jYXRpb25cXFwiPiA8dWwgY2xhc3M9XFxcInNlYXJjaF9fb3B0aW9uc1xcXCI+PC91bD4gPC9zZWN0aW9uPiA8c2VsZWN0IGNsYXNzPVxcXCJzZWFyY2hfX3NlbGVjdC1yZWdpb25cXFwiIG5hbWU9XFxcInJlZ2lvbnNcXFwiIGlkPVxcXCJzZWwxXFxcIj4gPG9wdGlvbiB2YWx1ZT1cXFwiSW5pdGlhbFxcXCI+LS1QbGVhc2UgY2hvb3NlIGEgcmVnaW9uLS08L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT1cXFwiQWxsXFxcIj5BbGw8L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT1cXFwiQWZyaWNhXFxcIj5BZnJpY2E8L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT1cXFwiQW1lcmljYXNcXFwiPkFtZXJpY2FzPC9vcHRpb24+IDxvcHRpb24gdmFsdWU9XFxcIkFzaWFcXFwiPkFzaWE8L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT1cXFwiRXVyb3BlXFxcIj5FdXJvcGU8L29wdGlvbj4gPG9wdGlvbiB2YWx1ZT1cXFwiT2NlYW5pYVxcXCI+T2NlYW5pYTwvb3B0aW9uPiA8L3NlbGVjdD4gPC9mb3JtPiA8ZGl2IGNsYXNzPVxcXCJjb3VudHJpZXNfX2xpc3Qtd3JhcHBlclxcXCI+IDx1bCBjbGFzcz1cXFwiY291bnRyaWVzX19saXN0XFxcIj4gPC91bD4gPGRpdiBjbGFzcz1cXFwic3Bpbm5lci13cmFwcGVyIHNwaW5uZXItZGVhY3RpdmF0ZWRcXFwiPiA8ZGl2IGNsYXNzPVxcXCJzcGlubmVyXFxcIj48L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L21haW4+IDwvYm9keT4gPC9odG1sPiBcIjtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IGNvZGU7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICBvcHRpb25zID0ge307XG4gIH1cblxuICBpZiAoIXVybCkge1xuICAgIHJldHVybiB1cmw7XG4gIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVyc2NvcmUtZGFuZ2xlLCBuby1wYXJhbS1yZWFzc2lnblxuXG5cbiAgdXJsID0gU3RyaW5nKHVybC5fX2VzTW9kdWxlID8gdXJsLmRlZmF1bHQgOiB1cmwpO1xuXG4gIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICB1cmwgKz0gb3B0aW9ucy5oYXNoO1xuICB9XG5cbiAgaWYgKG9wdGlvbnMubWF5YmVOZWVkUXVvdGVzICYmIC9bXFx0XFxuXFxmXFxyIFwiJz08PmBdLy50ZXN0KHVybCkpIHtcbiAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KHVybCwgXCJcXFwiXCIpO1xuICB9XG5cbiAgcmV0dXJuIHVybDtcbn07IiwiaW1wb3J0IENvdW50cnkgZnJvbSBcIi4vY291bnRyeVwiXG5pbXBvcnQgcmVxdWVzdCBmcm9tIFwiLi9nZXREYXRhXCJcbmltcG9ydCByZW5kZXJGbiBmcm9tIFwiLi9yZW5kZXJMaXN0XCJcblxuXG5jbGFzcyBBcHAge1xuICBlbGVtZW50OkhUTUxJbnB1dEVsZW1lbnRcbiAgb3B0aW9uczpIVE1MVUxpc3RFbGVtZW50XG4gIHNlbGVjdDpIVE1MU2VsZWN0RWxlbWVudFxuICBwcml2YXRlIF9zZWxlY3RDaG9pY2U6IHN0cmluZ3xudWxsXG4gIHByaXZhdGUgX3NlbGVjdFJlZ2lvbjogQ291bnRyeVtdXG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlYXJjaF9faW5wdXQnKSFcbiAgICB0aGlzLm9wdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoX19vcHRpb25zJykhXG4gICAgdGhpcy5zZWxlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VhcmNoX19zZWxlY3QtcmVnaW9uJykhXG4gICAgdGhpcy5fc2VsZWN0Q2hvaWNlID0gbnVsbFxuICAgIHRoaXMuX3NlbGVjdFJlZ2lvbj1bXVxuICAgIHRoaXMuX3VwZGF0ZURvbSgpXG4gICAgdGhpcy5fc2VsZWN0TGlzdGVuZXIoKVxuICB9XG5cbiAgcHJpdmF0ZSBfc2VsZWN0TGlzdGVuZXIgPSAoKT0+e1xuICAgIHRoaXMuc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGFzeW5jICgpPT57XG4gICAgICB0aGlzLl9zZWxlY3RDaG9pY2UgPSB0aGlzLnNlbGVjdC52YWx1ZVxuICAgICAgaWYgKHRoaXMuX3NlbGVjdENob2ljZT09PVwiQWxsXCIpIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0UmVnaW9uID0gYXdhaXQgcmVxdWVzdC5nZXRBbGxDb3VudHJpZXMoKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2VsZWN0UmVnaW9uID0gYXdhaXQgcmVxdWVzdC5nZXRDb3VudGllc0Zyb21SZWdpb25zUmVxdWVzdCh0aGlzLl9zZWxlY3RDaG9pY2UpXG4gICAgICB9XG4gICAgICByZW5kZXJGbi5hZGRBcnJheUNvdW50cmllcyh0aGlzLl9zZWxlY3RSZWdpb24pXG4gICAgfSlcbiAgfVxuXG4gIHByaXZhdGUgX2dldFZhbHVlID0gKCk9PntcbiAgICBpZiAodGhpcy5zZWxlY3QudmFsdWU9PT0nQWxsJ3x8dGhpcy5zZWxlY3QudmFsdWU9PT0nSW5pdGlhbCcpIHtcbiAgICAgIHJldHVybiByZXF1ZXN0LmdldFNlYXJjaFJlc3VsdHModGhpcy5lbGVtZW50LnZhbHVlKVxuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBzZWFyY2hMZXR0ZXJzID0gdGhpcy5lbGVtZW50LnZhbHVlLnNwbGl0KCcnKVxuICAgICAgY29uc3QgY291bnRyaWVzID0gdGhpcy5fc2VsZWN0UmVnaW9uLmZpbHRlcihjb3VudHJ5PT57XG4gICAgICAgIGxldCBjaGVjayA9IHRydWVcbiAgICAgICAgY29uc3QgbmFtZSA9IGNvdW50cnkubmFtZS5zcGxpdCgnJylcbiAgICAgICAgc2VhcmNoTGV0dGVycy5mb3JFYWNoKGxldHRlcj0+e1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gbmFtZS5maW5kSW5kZXgoZWw9PmVsPT09bGV0dGVyKVxuICAgICAgICAgIGlmIChpbmRleCE9PS0xKSB7bmFtZS5zcGxpY2UoaW5kZXgsMSl9IGVsc2Uge2NoZWNrPWZhbHNlfVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gY2hlY2tcbiAgICAgIH0pXG4gICAgICByZXR1cm4gY291bnRyaWVzLm1hcChjb3VudHJ5PT5jb3VudHJ5Lm5hbWUpXG4gICAgfVxuICB9IFxuXG4gIHByaXZhdGUgX2FkZE9wdGlvbiA9ICh2YWx1ZTpzdHJpbmcpPT57XG4gICAgdGhpcy5vcHRpb25zLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLCBgXG4gICAgPGRpdiBjbGFzcz1cInNlYXJjaF9fb3B0aW9uXCI+JHt2YWx1ZX08L2Rpdj5cbiAgYClcbiAgfVxuXG4gIGNsZWFyT3B0aW9ucyA9ICgpPT50aGlzLm9wdGlvbnMuaW5uZXJIVE1MPScnXG5cbiAgcHJpdmF0ZSBfdXBkYXRlRG9tID0gYXN5bmMgKCk9PntcbiAgICBsZXQgZGVsYXk6IE5vZGVKUy5UaW1lb3V0XG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKCk9PntcblxuICAgICAgaWYgKGRlbGF5KSB7Y2xlYXJUaW1lb3V0KGRlbGF5KX1cbiAgICAgIGRlbGF5ID0gc2V0VGltZW91dChhc3luYyAoKT0+e1xuICAgICAgICB0aGlzLmNsZWFyT3B0aW9ucygpXG4gICAgICAgIHRyeSB7ICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHNlYXJjaFZhbHVlcyA9IGF3YWl0IHRoaXMuX2dldFZhbHVlKClcbiAgICAgICAgICBzZWFyY2hWYWx1ZXMuZm9yRWFjaChlbD0+dGhpcy5fYWRkT3B0aW9uKGVsKSlcbiAgICAgICAgICB9XG4gICAgICAgIGNhdGNoKGVycm9yKXtcbiAgICAgICAgICB0aGlzLmNsZWFyT3B0aW9ucygpXG4gICAgICAgICAgdGhpcy5fYWRkT3B0aW9uKCdDb3VudHJ5IG5vdCBmb3VuZCcpXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQudmFsdWU9PT0nJykgeyB0aGlzLmNsZWFyT3B0aW9ucygpfVxuICAgICAgICB9XG4gICAgICAgICAgLDUwMClcbiAgICAgIH0pXG4gIH1cbn1cblxuY29uc3Qgc2VhcmNoID0gbmV3IEFwcCgpXG5cbmV4cG9ydCBkZWZhdWx0ICBzZWFyY2giLCJpbXBvcnQgcmVuZGVyRm4gZnJvbSBcIi4vcmVuZGVyTGlzdFwiXG5pbXBvcnQgcmVxdWVzdCBmcm9tIFwiLi9nZXREYXRhXCJcbmltcG9ydCBzZWFyY2ggZnJvbSBcIi4vYXBwXCJcbmltcG9ydCBidG5Nb2RlICBmcm9tIFwiLi90aGVtZVwiO1xuXG5jbGFzcyBDbGlja0hhbmRsZXIge1xuICBoYW5kbGVyOiAoKSA9PiB2b2lkXG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5oYW5kbGVyID0gKCk9PntcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKGV2ZW50KT0+e1xuICAgICAgICBjb25zdCB0YXJnZXQgPSAgZXZlbnQudGFyZ2V0XG4gICAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkge3JldHVybn1cblxuICAgICAgICAvLyBmaW5kIHNwZWNpYWwgY291bnRyeSBmcm9tIHNlYXJjaCBsaXN0XG4gICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWFyY2hfX29wdGlvbicpKSB7IFxuICAgICAgICAgIGlmICghdGFyZ2V0LnRleHRDb250ZW50IHx8IHRhcmdldC50ZXh0Q29udGVudD09PSdDb3VudHJ5IG5vdCBmb3VuZCcpIHtyZXR1cm59XG4gICAgICAgICAgY29uc3QgY291bnRyeSA9IGF3YWl0IHJlcXVlc3QuZ2V0Q291bnRyeSh0YXJnZXQudGV4dENvbnRlbnQpXG4gICAgICAgICAgcmVuZGVyRm4uYWRkQXJyYXlDb3VudHJpZXMoW2NvdW50cnldKVxuICAgICAgICAgIHNlYXJjaC5jbGVhck9wdGlvbnMoKVxuICAgICAgICAgIHNlYXJjaC5lbGVtZW50LnZhbHVlPWNvdW50cnkubmFtZVxuICAgICAgICB9XG4gICAgICAgIC8vIGNoYW5nZSBkb2MgdGhlbWVcbiAgICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuaGVhZGVyX19idG4tbW9kZS1ibG9jaycpKSB7XG4gICAgICAgICAgYnRuTW9kZS5jaGFuZ2VUaGVtZSgpXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG5cbm5ldyBDbGlja0hhbmRsZXIoKS5oYW5kbGVyKClcbiIsImV4cG9ydCBpbnRlcmZhY2UgSUNvdW50cnlBbnN3ZXIge1xuICBjYXBpdGFsOnN0cmluZ1xuICBmbGFncyA6IHtcbiAgICBzdmc6c3RyaW5nXG4gIH1cbiAgbmFtZTp7IG9mZmljaWFsOiBzdHJpbmd9XG4gIHBvcHVsYXRpb246bnVtYmVyXG4gIHJlZ2lvbjpzdHJpbmdcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ291bnRyeSB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOnN0cmluZywgcHVibGljIHBvcHVsYXRpb246bnVtYmVyLHB1YmxpYyByZWdpb246c3RyaW5nLHB1YmxpYyBjYXBpdGFsOnN0cmluZyxwdWJsaWMgaW1nOnN0cmluZyl7XG4gIH1cbiAgZ2V0Q291bnRyeSA9ICgpPT57XG4gICAgcmV0dXJuIHRoaXNcbiAgfVxufVxuIiwiXG5pbXBvcnQgQ291bnRyeSBmcm9tIFwiLi9jb3VudHJ5XCJcbmltcG9ydCB7IElDb3VudHJ5QW5zd2VyIH0gZnJvbSBcIi4vY291bnRyeVwiO1xuXG5jbGFzcyBHZXREYXRhIHtcbiAgY29uc3RydWN0b3IoKSB7fVxuXG4gIHByaXZhdGUgX3JlcXVlc3RCeU5hbWUgPSBhc3luYyAobmFtZUNvdW50cnk6c3RyaW5nKSA9PiB7XG4gICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9yZXN0Y291bnRyaWVzLmNvbS92My4xL25hbWUvJHtuYW1lQ291bnRyeX1gKVxuICAgICAgY29uc3QgZGF0YTpJQ291bnRyeUFuc3dlcltdID0gYXdhaXQgYW5zd2VyLmpzb24oKVxuICAgICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIHByaXZhdGUgX3JlcXVlc3RCeVJlZ2lvbiA9YXN5bmMgKHJlZ2lvbjpzdHJpbmcpID0+IHtcbiAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9yZXN0Y291bnRyaWVzLmNvbS92My4xL3JlZ2lvbi8ke3JlZ2lvbn1gKVxuICAgIGNvbnN0IGRhdGE6SUNvdW50cnlBbnN3ZXJbXSA9IGF3YWl0IGFuc3dlci5qc29uKClcbiAgICByZXR1cm4gZGF0YVxuICB9XG5cbiAgcHJpdmF0ZSBfcmVxdWVzdEFsbCA9YXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGFuc3dlciA9IGF3YWl0IGZldGNoKGBodHRwczovL3Jlc3Rjb3VudHJpZXMuY29tL3YzLjEvYWxsYClcbiAgICBjb25zdCBkYXRhOklDb3VudHJ5QW5zd2VyW10gPSBhd2FpdCBhbnN3ZXIuanNvbigpXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuXG4gIHByaXZhdGUgX2dldENvdW50cnlPYmpGcm9tQW5zd2VyID0gKGFuc3dlcjpJQ291bnRyeUFuc3dlcik9PntcbiAgICBjb25zdCB7Y2FwaXRhbCwgbmFtZTp7b2ZmaWNpYWw6bmFtZX0sIHBvcHVsYXRpb24scmVnaW9uLGZsYWdzOntzdmc6aW1nfX0gPSBhbnN3ZXJcbiAgICByZXR1cm4gbmV3IENvdW50cnkobmFtZSxwb3B1bGF0aW9uLHJlZ2lvbixjYXBpdGFsLGltZylcbiAgfVxuXG4gIHByaXZhdGUgX2dldENvdW50cmllc0Zyb21SZXF1ZXN0ID0gKGRhdGE6SUNvdW50cnlBbnN3ZXJbXSkgPT4ge1xuICAgIHJldHVybiBkYXRhLm1hcCgoY291bnRyeU9iaik9PnRoaXMuX2dldENvdW50cnlPYmpGcm9tQW5zd2VyKGNvdW50cnlPYmopKVxuICB9XG4gIFxuICBnZXRDb3VudHJ5ID0gYXN5bmMgKG5hbWVDb3VudHJ5OnN0cmluZykgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLl9yZXF1ZXN0QnlOYW1lKG5hbWVDb3VudHJ5KVxuICAgIHJldHVybiB0aGlzLl9nZXRDb3VudHJpZXNGcm9tUmVxdWVzdChkYXRhKVswXVxuICB9XG5cbiAgZ2V0Q291bnRpZXNGcm9tUmVnaW9uc1JlcXVlc3QgPSBhc3luYyAocmVnaW9uOnN0cmluZyk9PntcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgdGhpcy5fcmVxdWVzdEJ5UmVnaW9uKHJlZ2lvbilcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q291bnRyaWVzRnJvbVJlcXVlc3QoZGF0YSlcbiAgfVxuXG4gIGdldFNlYXJjaFJlc3VsdHMgPSBhc3luYyAobmFtZUNvdW50cnk6c3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHRoaXMuX3JlcXVlc3RCeU5hbWUobmFtZUNvdW50cnkpXG4gICAgY29uc3Qgc2VhcmNoTGlzdCA9IGRhdGEubWFwKGVsZW09PmVsZW0ubmFtZS5vZmZpY2lhbClcbiAgICByZXR1cm4gc2VhcmNoTGlzdFxuICB9XG4gIGdldEFsbENvdW50cmllcyA9YXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0aGlzLl9yZXF1ZXN0QWxsKClcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q291bnRyaWVzRnJvbVJlcXVlc3QoZGF0YSlcbiAgfVxuXG59XG5jb25zdCByZXF1ZXN0ID0gbmV3IEdldERhdGEoKVxuZXhwb3J0IGRlZmF1bHQgcmVxdWVzdFxuXG5cblxuICBcbiAgXG4gICIsImltcG9ydCBDb3VudHJ5IGZyb20gXCIuL2NvdW50cnlcIlxuaW1wb3J0IHNwaW5uZXIgZnJvbSBcIi4vc3Bpbm5lclwiO1xuXG4gY2xhc3MgUmVuZGVyTGlzdCB7XG4gIGxpc3Q6SFRNTEVsZW1lbnRcbiAgY29uc3RydWN0b3IgKCl7XG4gICAgdGhpcy5saXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvdW50cmllc19fbGlzdCcpIVxuICB9XG4gIGNsZWFyTGlzdCA9ICgpPT57XG4gICAgdGhpcy5saXN0LmlubmVySFRNTCA9ICcnXG4gIH1cbiAgYWRkQ291bnRyeSA9ICh7bmFtZSwgcG9wdWxhdGlvbixyZWdpb24sY2FwaXRhbCxpbWd9OkNvdW50cnkpPT57XG4gICAgdGhpcy5saXN0Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYFxuICAgIDxsaSBjbGFzcz1cImNvdW50cmllc19fY291bnRyeS1pdGVtIGNvdW50cnlcIj5cbiAgICAgICAgPGltZyBzcmM9XCIke2ltZ31cIiBhbHQ9XCJcIiBjbGFzcz1cImNvdW50cnlfX2ZsYWdcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvdW50cnlfX2Rlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3M9XCJjb3VudHJ5X190aXRsZVwiPiR7bmFtZX08L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJjb3VudHJ5X19pbmZvXCI+PGI+UG9wdWxhdGlvbjogPC9iPiR7cG9wdWxhdGlvbn08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cImNvdW50cnlfX2luZm9cIj48Yj5SZWdpb246PC9iPiAke3JlZ2lvbn08L3A+XG4gICAgICAgICAgICA8cCBjbGFzcz1cImNvdW50cnlfX2luZm9cIj48Yj5DYXBpdGFsOjwvYj4gJHtjYXBpdGFsfTwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9saT5gKVxuICB9XG4gIGFkZEFycmF5Q291bnRyaWVzID0gKGFycjpDb3VudHJ5W10pPT57XG4gICAgc3Bpbm5lci5hY3RpdmF0ZSgpXG4gICAgdGhpcy5jbGVhckxpc3QoKVxuICAgIGFyci5mb3JFYWNoKGVsPT50aGlzLmFkZENvdW50cnkoZWwpKVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc3Bpbm5lci5kZWFjdGl2YXRlKClcbiAgICB9LCA1MDApO1xuICAgIFxuICB9XG59XG5jb25zdCByZW5kZXJGbiA9IG5ldyBSZW5kZXJMaXN0KClcbmV4cG9ydCBkZWZhdWx0IHJlbmRlckZuIiwiY2xhc3MgU3Bpbm5lciB7XG4gIGVsZW1lbnQ6SFRNTERpdkVsZW1lbnRcbiAgY29uc3RydWN0b3IoKXtcbiAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3Bpbm5lci13cmFwcGVyJykhXG4gIH1cbiAgYWN0aXZhdGUgPSAoKT0+e1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzcGlubmVyLWRlYWN0aXZhdGVkJylcbiAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc3Bpbm5lci1hY3RpdmUnKVxuICB9XG4gIGRlYWN0aXZhdGUgPSAoKT0+e1xuICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzcGlubmVyLWFjdGl2ZScpXG4gICAgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NwaW5uZXItZGVhY3RpdmF0ZWQnKVxuICB9XG59XG5jb25zdCBzcGlubmVyID0gbmV3IFNwaW5uZXIoKVxuZXhwb3J0IGRlZmF1bHQgc3Bpbm5lciAiLCJcbmNsYXNzIGJ0bkNoYW5nZU1vZGUge1xuICBlbGVtZW50OkhUTUxCdXR0b25FbGVtZW50XG4gIGltZzp7XG4gICAgc3VuOlVSTCxcbiAgICBtb29uOlVSTFxuICB9XG4gIF9jdXN0b21lclRoZW1lIDogc3RyaW5nXG4gIGNvbnN0cnVjdG9yKCl7XG4gICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnRuLW1vZGUtYmxvY2snKSFcbiAgICB0aGlzLmltZyA9IHtcbiAgICAgIHN1bjogcmVxdWlyZSAoJy4uLy4uL2Fzc2V0cy9pbWcvd2hpdGUtYmFsYW5jZS1zdW5ueS5zdmcnKSxcbiAgICAgIG1vb246IHJlcXVpcmUgKCcuLi8uLi9hc3NldHMvaW1nL21vb24td2FuaW5nLWNyZXNjZW50LnN2ZycpXG4gICAgfVxuICAgIHRoaXMuX2N1c3RvbWVyVGhlbWUgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaylcIikubWF0Y2hlcyA/IFwiZGFya1wiIDogXCJsaWdodFwiXG4gICAgdGhpcy5faW5pdGlhbGl6ZSgpXG4gIH1cblxuICAgIHByaXZhdGUgX3JlbmRlckRhcmsgPSAoKT0+e1xuICAgICAgdGhpcy5lbGVtZW50LmlubmVySFRNTD1gPGltZyBjbGFzcz1cImhlYWRlcl9fYnRuLWltZ1wiIHNyYz1cIiR7dGhpcy5pbWcuc3VufVwiIGFsdD1cIlwiPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImhlYWRlcl9fYnRuLW1vZGVcIj5MaWdodCBNb2RlPC9idXR0b24+YFxuICAgIH1cbiAgICBwcml2YXRlIF9yZW5kZXJMaWdodCA9ICgpPT57XG4gICAgICB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPWA8aW1nIGNsYXNzPVwiaGVhZGVyX19idG4taW1nXCIgc3JjPVwiJHt0aGlzLmltZy5tb29ufVwiIGFsdD1cIlwiPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImhlYWRlcl9fYnRuLW1vZGVcIj5EYXJrIE1vZGU8L2J1dHRvbj5gXG4gICAgfVxuICAgIHByaXZhdGUgX3JlbmRlckJ0biA9ICgpPT57XG4gICAgICB0aGlzLl9jdXN0b21lclRoZW1lPT09XCJkYXJrXCI/dGhpcy5fcmVuZGVyRGFyaygpOnRoaXMuX3JlbmRlckxpZ2h0KClcbiAgICB9XG4gICAgcHJpdmF0ZSBfaW5pdGlhbGl6ZSA9ICgpPT57XG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRoZW1lJywgdGhpcy5fY3VzdG9tZXJUaGVtZSApXG4gICAgICB0aGlzLl9yZW5kZXJCdG4oKVxuICAgIH1cbiAgICBjaGFuZ2VUaGVtZSA9ICgpPT57XG4gICAgICBsZXQgdGFyZ2V0VGhlbWVcbiAgICAgIHRoaXMuX2N1c3RvbWVyVGhlbWUgPT09IFwibGlnaHRcIiA/IHRhcmdldFRoZW1lID0gXCJkYXJrXCIgOiB0YXJnZXRUaGVtZSA9IFwibGlnaHRcIlxuICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgnZGF0YS10aGVtZScsIHRhcmdldFRoZW1lKVxuICAgICAgdGhpcy5fY3VzdG9tZXJUaGVtZSA9IHRhcmdldFRoZW1lXG4gICAgICBidG5Nb2RlLl9yZW5kZXJCdG4oKVxuICAgIH1cbn1cblxuY29uc3QgYnRuTW9kZSA9IG5ldyBidG5DaGFuZ2VNb2RlKClcblxuZXhwb3J0IGRlZmF1bHQgYnRuTW9kZVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5iID0gZG9jdW1lbnQuYmFzZVVSSSB8fCBzZWxmLmxvY2F0aW9uLmhyZWY7XG5cbi8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4vLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbi8vIFtyZXNvbHZlLCByZWplY3QsIFByb21pc2VdID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxudmFyIGluc3RhbGxlZENodW5rcyA9IHtcblx0MTc5OiAwXG59O1xuXG4vLyBubyBjaHVuayBvbiBkZW1hbmQgbG9hZGluZ1xuXG4vLyBubyBwcmVmZXRjaGluZ1xuXG4vLyBubyBwcmVsb2FkZWRcblxuLy8gbm8gSE1SXG5cbi8vIG5vIEhNUiBtYW5pZmVzdFxuXG4vLyBubyBvbiBjaHVua3MgbG9hZGVkXG5cbi8vIG5vIGpzb25wIGZ1bmN0aW9uIiwiXG5pbXBvcnQgXCIuLi9pbmRleC5odG1sXCJcblxuLy8gaW1wb3J0IFwiLi9jb21wb25lbnQvdGhlbWVcIjtcbmltcG9ydCBcIi4vY29tcG9uZW50L2NsaWNrSGFuZGxlclwiO1xuXG5cblxuXG5cblxuXG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsIl9fX0hUTUxfTE9BREVSX0lNUE9SVF8wX19fIiwiVVJMIiwidXJsIiwib3B0aW9ucyIsIlN0cmluZyIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiaGFzaCIsIm1heWJlTmVlZFF1b3RlcyIsInRlc3QiLCJjb25jYXQiLCJzZWFyY2giLCJjb25zdHJ1Y3RvciIsIl9zZWxlY3RMaXN0ZW5lciIsInRoaXMiLCJzZWxlY3QiLCJhZGRFdmVudExpc3RlbmVyIiwiX3NlbGVjdENob2ljZSIsInZhbHVlIiwiX3NlbGVjdFJlZ2lvbiIsImdldEFsbENvdW50cmllcyIsImdldENvdW50aWVzRnJvbVJlZ2lvbnNSZXF1ZXN0IiwiYWRkQXJyYXlDb3VudHJpZXMiLCJfZ2V0VmFsdWUiLCJnZXRTZWFyY2hSZXN1bHRzIiwiZWxlbWVudCIsInNlYXJjaExldHRlcnMiLCJzcGxpdCIsImZpbHRlciIsImNvdW50cnkiLCJjaGVjayIsIm5hbWUiLCJmb3JFYWNoIiwibGV0dGVyIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJlbCIsInNwbGljZSIsIm1hcCIsIl9hZGRPcHRpb24iLCJpbnNlcnRBZGphY2VudEhUTUwiLCJjbGVhck9wdGlvbnMiLCJpbm5lckhUTUwiLCJfdXBkYXRlRG9tIiwiZGVsYXkiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZXJyb3IiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJoYW5kbGVyIiwiZXZlbnQiLCJ0YXJnZXQiLCJIVE1MRWxlbWVudCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwidGV4dENvbnRlbnQiLCJnZXRDb3VudHJ5IiwiY2xvc2VzdCIsImNoYW5nZVRoZW1lIiwicG9wdWxhdGlvbiIsInJlZ2lvbiIsImNhcGl0YWwiLCJpbWciLCJyZXF1ZXN0IiwiX3JlcXVlc3RCeU5hbWUiLCJuYW1lQ291bnRyeSIsImFuc3dlciIsImZldGNoIiwianNvbiIsIl9yZXF1ZXN0QnlSZWdpb24iLCJfcmVxdWVzdEFsbCIsIl9nZXRDb3VudHJ5T2JqRnJvbUFuc3dlciIsIm9mZmljaWFsIiwiZmxhZ3MiLCJzdmciLCJfZ2V0Q291bnRyaWVzRnJvbVJlcXVlc3QiLCJkYXRhIiwiY291bnRyeU9iaiIsImVsZW0iLCJyZW5kZXJGbiIsImNsZWFyTGlzdCIsImxpc3QiLCJhZGRDb3VudHJ5IiwiYXJyIiwiYWN0aXZhdGUiLCJkZWFjdGl2YXRlIiwic3Bpbm5lciIsInJlbW92ZSIsImFkZCIsImJ0bk1vZGUiLCJfcmVuZGVyRGFyayIsInN1biIsIl9yZW5kZXJMaWdodCIsIm1vb24iLCJfcmVuZGVyQnRuIiwiX2N1c3RvbWVyVGhlbWUiLCJfaW5pdGlhbGl6ZSIsImRvY3VtZW50RWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInRhcmdldFRoZW1lIiwid2luZG93IiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCIsIm0iLCJuIiwiZ2V0dGVyIiwiZCIsImEiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsImciLCJnbG9iYWxUaGlzIiwiRnVuY3Rpb24iLCJlIiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJiIiwiYmFzZVVSSSIsInNlbGYiLCJocmVmIl0sInNvdXJjZVJvb3QiOiIifQ==