/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.html":
/*!************************!*\
  !*** ./src/index.html ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// Module
var code = "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Shop</title>\n  </head>\n\n  <body>\n    <header class=\"header\">\n      <div class=\"header__container\">\n        <nav class=\"header_nav\">\n          <ul class=\"header__nav-links-list\">\n            <li class=\"header__nav-link-item\">\n              <a href=\"./index.html\" class=\"header__nav-link\">Home</a>\n            </li>\n            <li class=\"header__nav-link-item\">\n              <a href=\"./products.html\" class=\"header__nav-link\">Products</a>\n            </li>\n            <li class=\"header__nav-link-item\">\n              <a href=\"./about.html\" class=\"header__nav-link\">About</a>\n            </li>\n          </ul>\n          <span class=\"header__logo\">comfy</span>\n          <button class=\"header__btn-cart btn-cart\">\n            <svg class=\"btn-cart__img\" style=\"width: 24px; height: 24px\" viewBox=\"0 0 24 24\">\n              <path\n                fill=\"currentColor\"\n                d=\"M17,18C15.89,18 15,18.89 15,20A2,2 0 0,0 17,22A2,2 0 0,0 19,20C19,18.89 18.1,18 17,18M1,2V4H3L6.6,11.59L5.24,14.04C5.09,14.32 5,14.65 5,15A2,2 0 0,0 7,17H19V15H7.42A0.25,0.25 0 0,1 7.17,14.75C7.17,14.7 7.18,14.66 7.2,14.63L8.1,13H15.55C16.3,13 16.96,12.58 17.3,11.97L20.88,5.5C20.95,5.34 21,5.17 21,5A1,1 0 0,0 20,4H5.21L4.27,2M7,18C5.89,18 5,18.89 5,20A2,2 0 0,0 7,22A2,2 0 0,0 9,20C9,18.89 8.1,18 7,18Z\"\n              />\n            </svg>\n            <div class=\"btn-cart__quantity\">0</div>\n          </button>\n        </nav>\n      </div>\n    </header>\n    <main class=\"hero\">\n      <div class=\"hero__container\">\n        <h1 class=\"hero__title\">Rest, Relax, Unwind</h1>\n        <p class=\"hero__text\">Embrace your choices - we do</p>\n        <a href=\"./products.html\" class=\"hero__btn-link\">show now</a>\n        <div class=\"hero__license\">\n          Photo by\n          <a\n            href=\"https://unsplash.com/@anniespratt?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\"\n            >Annie Spratt</a\n          >\n          on\n          <a\n            href=\"https://unsplash.com/photos/52AAiXWoVi0?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText\"\n            >Unsplash</a\n          >\n        </div>\n      </div>\n    </main>\n    <footer class=\"footer\">\n      <div class=\"footer__container\">\n        <h2 class=\"footer__title\">Featured</h2>\n        <ul class=\"footer__featured-list\">\n          <li class=\"footer__featured-item shopping-item\">\n            <img\n              src=\"https://www.ikea.com/ca/en/images/products/lidas-chair-white-sefast-chrome-plated__1106347_pe868688_s5.jpg?f=xl\"\n              alt=\"\"\n              class=\"shopping-item__img\"\n            />\n            <h3 class=\"shopping-item__name\">Hugh-Back Bench</h3>\n            <data class=\"shopping-item__price-value\" value=\"9.99\">$9.99</data>\n          </li>\n          <li class=\"footer__featured-item shopping-item\">\n            <img\n              src=\"https://www.ikea.com/ca/en/images/products/lidas-chair-white-sefast-chrome-plated__1106347_pe868688_s5.jpg?f=xl\"\n              alt=\"\"\n              class=\"shopping-item__img\"\n            />\n            <h3 class=\"shopping-item__name\">Hugh-Back Bench</h3>\n            <data class=\"shopping-item__price-value\" value=\"9.99\">$9.99</data>\n          </li>\n          <li class=\"footer__featured-item shopping-item\">\n            <img\n              src=\"https://www.ikea.com/ca/en/images/products/lidas-chair-white-sefast-chrome-plated__1106347_pe868688_s5.jpg?f=xl\"\n              alt=\"\"\n              class=\"shopping-item__img\"\n            />\n            <h3 class=\"shopping-item__name\">Hugh-Back Bench</h3>\n            <data class=\"shopping-item__price-value\" value=\"9.99\">$9.99</data>\n          </li>\n        </ul>\n      </div>\n    </footer>\n    <span class=\"mdi mdi-content-save-minus-outline\"></span>\n  </body>\n</html>\n";
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);

/***/ }),

/***/ "./src/products.html":
/*!***************************!*\
  !*** ./src/products.html ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// Module
var code = "<!DOCTYPE html>\n<html lang=\"en\">\n  <head>\n    <meta charset=\"UTF-8\" />\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" />\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n    <title>Products</title>\n  </head>\n  <body>\n    <header class=\"header\">\n      <div class=\"header__container\">\n        <nav class=\"header_nav\">\n          <ul class=\"header__nav-links-list\">\n            <li class=\"header__nav-link-item\">\n              <a href=\"./index.html\" class=\"header__nav-link\">Home</a>\n            </li>\n            <li class=\"header__nav-link-item\">\n              <a href=\"./products.html\" class=\"header__nav-link\">Products</a>\n            </li>\n            <li class=\"header__nav-link-item\">\n              <a href=\"./about.html\" class=\"header__nav-link\">About</a>\n            </li>\n          </ul>\n          <span class=\"header__logo\">comfy</span>\n          <button class=\"header__btn-cart btn-cart\">\n            <svg class=\"btn-cart__img\" style=\"width: 24px; height: 24px\" viewBox=\"0 0 24 24\">\n              <path\n                fill=\"currentColor\"\n                d=\"M17,18C15.89,18 15,18.89 15,20A2,2 0 0,0 17,22A2,2 0 0,0 19,20C19,18.89 18.1,18 17,18M1,2V4H3L6.6,11.59L5.24,14.04C5.09,14.32 5,14.65 5,15A2,2 0 0,0 7,17H19V15H7.42A0.25,0.25 0 0,1 7.17,14.75C7.17,14.7 7.18,14.66 7.2,14.63L8.1,13H15.55C16.3,13 16.96,12.58 17.3,11.97L20.88,5.5C20.95,5.34 21,5.17 21,5A1,1 0 0,0 20,4H5.21L4.27,2M7,18C5.89,18 5,18.89 5,20A2,2 0 0,0 7,22A2,2 0 0,0 9,20C9,18.89 8.1,18 7,18Z\"\n              />\n            </svg>\n            <div class=\"btn-cart__quantity\">0</div>\n          </button>\n        </nav>\n      </div>\n    </header>\n\n    <section class=\"site-location\">\n      <div class=\"site-location__container\">\n        <a class=\"site-location__link\" href=\"./index.html\">Home </a> /\n        <a class=\"site-location__link\" href=\"./products.html\">Products</a>\n      </div>\n    </section>\n\n    <main class=\"main\">\n      <div class=\"main__container\">\n        <aside class=\"sidebar\">\n          <!-- <input class=\"sidebar__price-range\" type=\"range\" name=\"price-range\" /> -->\n        </aside>\n        <ul class=\"products\"></ul>\n      </div>\n    </main>\n  </body>\n</html>\n";
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);

/***/ }),

/***/ "./src/sass/style.sass":
/*!*****************************!*\
  !*** ./src/sass/style.sass ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
// extracted by mini-css-extract-plugin


/***/ }),

/***/ "./src/ts/component/addTitle.ts":
/*!**************************************!*\
  !*** ./src/ts/component/addTitle.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.addTitleToDOM = void 0;
const addTitleToDOM = () => {
    document.addEventListener('DOMContentLoaded', () => {
        document.documentElement.setAttribute('title', document.title);
    });
};
exports.addTitleToDOM = addTitleToDOM;


/***/ }),

/***/ "./src/ts/component/app.ts":
/*!*********************************!*\
  !*** ./src/ts/component/app.ts ***!
  \*********************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
const addTitle_1 = __webpack_require__(/*! ./addTitle */ "./src/ts/component/addTitle.ts");
const clickHandler_1 = __webpack_require__(/*! ./clickHandler */ "./src/ts/component/clickHandler.ts");
const getShopData_1 = __webpack_require__(/*! ./getShopData */ "./src/ts/component/getShopData.ts");
const render_1 = __webpack_require__(/*! ./render */ "./src/ts/component/render.ts");
(() => __awaiter(void 0, void 0, void 0, function* () {
    (0, addTitle_1.addTitleToDOM)();
    const data = new getShopData_1.ShopData(yield (0, getShopData_1.getData)());
    if (document.title === 'Products') {
        render_1.renderFn.renderHtmlProductsList(data.list);
        render_1.renderFn.renderSideBar.renderSideBar(data);
    }
    else {
        render_1.renderFn.renderFeaturedList(data.getFeaturedItems());
    }
    new clickHandler_1.ClickHandler(data);
}))();


/***/ }),

/***/ "./src/ts/component/clickHandler.ts":
/*!******************************************!*\
  !*** ./src/ts/component/clickHandler.ts ***!
  \******************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ClickHandler = void 0;
const render_1 = __webpack_require__(/*! ./render */ "./src/ts/component/render.ts");
const shoppingCart_1 = __importDefault(__webpack_require__(/*! ./shoppingCart */ "./src/ts/component/shoppingCart.ts"));
class FilterClickHandler {
    constructor(target, data) {
        this.target = target;
        this.data = data;
        this._activateFilter = (element) => {
            const filter = element.dataset.filter;
            if (!element.classList.contains('active')) {
                element.classList.add('active');
                this.data.addActiveFilter(filter);
            }
        };
        this._deactivateFilter = (element) => {
            var _a;
            const filter = element.dataset.filter;
            element.classList.remove('active');
            this.data.removeElementFromActiveFilter(filter);
            // remove active from "All" value filter element
            const allBtnFilterList = (_a = element.parentElement) === null || _a === void 0 ? void 0 : _a.firstElementChild;
            const btnFilter = allBtnFilterList.dataset.filter;
            if (allBtnFilterList === null || allBtnFilterList === void 0 ? void 0 : allBtnFilterList.classList.contains('active')) {
                allBtnFilterList === null || allBtnFilterList === void 0 ? void 0 : allBtnFilterList.classList.remove('active');
                this.data.removeElementFromActiveFilter(btnFilter);
            }
        };
        this._activateFilterList = (array) => {
            array.forEach((listItem) => {
                if (listItem instanceof HTMLElement) {
                    this._activateFilter(listItem);
                }
            });
        };
        this._deactivateFilterList = (array) => {
            array.forEach((listItem) => {
                if (listItem instanceof HTMLElement) {
                    this._deactivateFilter(listItem);
                }
            });
        };
        this._handleClickOnFilterElement = (element) => {
            if (element.classList.contains('active')) {
                this._deactivateFilter(element);
            }
            else {
                this._activateFilter(element);
            }
        };
        this._initialize = () => {
            const filter = this.target.dataset.filter;
            if (filter === 'category_all' || filter === 'brand_all') {
                const arrayFilters = Array.from(this.target.parentElement.children);
                if (this.target.classList.contains('active')) {
                    this._deactivateFilterList(arrayFilters);
                }
                else {
                    this._activateFilterList(arrayFilters);
                }
            }
            else {
                this._handleClickOnFilterElement(this.target);
            }
        };
        this._initialize();
    }
}
class ClickHandler {
    constructor(data) {
        this.data = data;
        this.updateDataAndRenderList = () => {
            this.data.filterList();
            render_1.renderFn.renderHtmlProductsList(this.data.filteredList);
        };
        this.listenerForMaxPrice = () => {
            let delay;
            const input = document.querySelector('.sidebar__price-range');
            input.addEventListener('change', () => {
                if (delay) {
                    clearTimeout(delay);
                }
                delay = setTimeout(() => {
                    const maxPrice = parseInt(input.value);
                    this.data.activeFilters.maxPrice = maxPrice;
                    this.data.priceRange.max = maxPrice;
                    this.updateDataAndRenderList();
                    render_1.renderFn.renderSideBar.reRenderCountersQuantities(this.data.filteredBrands, this.data.filteredCategories);
                }, 500);
            });
        };
        this.listenerForSearch = () => {
            let delay;
            const input = document.querySelector('.sidebar__search');
            input.addEventListener('keydown', () => {
                if (delay) {
                    clearTimeout(delay);
                }
                delay = setTimeout(() => {
                    const search = input.value;
                    this.data.activeFilters.search = search;
                    this.updateDataAndRenderList();
                    render_1.renderFn.renderSideBar.reRenderCountersQuantities(this.data.filteredBrands, this.data.filteredCategories);
                }, 500);
            });
        };
        this.initialize = () => {
            if (document.title === 'Products') {
                this.listenerForMaxPrice();
                this.listenerForSearch();
            }
            document.addEventListener('click', (e) => {
                const target = e.target;
                console.log(target);
                if (!(target instanceof Element)) {
                    return;
                }
                if (target.closest('.header__btn-cart')) {
                    shoppingCart_1.default.showShoppingCart();
                }
                if (target.closest('.sidebar__filter-item')) {
                    new FilterClickHandler(target, this.data);
                    this.updateDataAndRenderList();
                    render_1.renderFn.renderSideBar.reRenderCountersQuantities(this.data.filteredBrands, this.data.filteredCategories);
                }
                // ========Shopping cart ======================
                const getShoppingCartItemId = () => {
                    const item = target.closest('.shopping-cart__item');
                    return parseInt(item.dataset.id);
                };
                if (target.closest('.shopping-item__btn-cart__img')) {
                    const parentElement = target.closest('.products__item');
                    const id = parseInt(parentElement.dataset.id);
                    // if item not found in cart add return false, and add item
                    if (!shoppingCart_1.default.addQuantityToItem(id)) {
                        const itemPropsForCart = this.data.getItemById(id);
                        shoppingCart_1.default.addItemToCart(itemPropsForCart);
                    }
                }
                if (target.closest('.shopping-item__btn_add-item')) {
                    const id = getShoppingCartItemId();
                    shoppingCart_1.default.addQuantityToItem(id);
                }
                if (target.closest('.shopping-item__btn_reduce-item')) {
                    const id = getShoppingCartItemId();
                    shoppingCart_1.default.reduceItemFromCartByID(id);
                }
                if (target.closest('.shopping-item__btn_remove')) {
                    const id = getShoppingCartItemId();
                    shoppingCart_1.default.deleteItemById(id);
                }
                if (target.closest('.shopping-cart__btn-remove-all')) {
                    shoppingCart_1.default.removeAll();
                }
            });
        };
        this.initialize();
    }
}
exports.ClickHandler = ClickHandler;


/***/ }),

/***/ "./src/ts/component/countQuantitiesUniqEntries.ts":
/*!********************************************************!*\
  !*** ./src/ts/component/countQuantitiesUniqEntries.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.countQuantitiesUniqEntries = void 0;
const countQuantitiesUniqEntries = (arr) => {
    const collectionWithCount = {};
    for (const element of arr) {
        if (collectionWithCount[element]) {
            collectionWithCount[element] += 1;
        }
        else {
            collectionWithCount[element] = 1;
        }
    }
    return collectionWithCount;
};
exports.countQuantitiesUniqEntries = countQuantitiesUniqEntries;


/***/ }),

/***/ "./src/ts/component/getShopData.ts":
/*!*****************************************!*\
  !*** ./src/ts/component/getShopData.ts ***!
  \*****************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {


var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ShopData = exports.getData = void 0;
const countQuantitiesUniqEntries_1 = __webpack_require__(/*! ./countQuantitiesUniqEntries */ "./src/ts/component/countQuantitiesUniqEntries.ts");
const getData = () => __awaiter(void 0, void 0, void 0, function* () {
    try {
        const answer = yield fetch('https://dummyjson.com/products?limit=100');
        const data = yield answer.json();
        return data.products;
    }
    catch (error) {
        console.log(error);
    }
});
exports.getData = getData;
class ShopData {
    constructor(list) {
        this.list = list;
        this.filters = {
            category: {},
            brand: {}
        };
        this.activeFilters = {
            category: [],
            brand: [],
            maxPrice: 0,
            search: '',
        };
        this.filteredCategories = {};
        this.filteredBrands = {};
        this.getFeaturedItems = () => {
            const featuredArr = [];
            const getRandomElement = () => {
                const length = this.list.length;
                const randomINdex = Math.floor(Math.random() * length);
                return this.list[randomINdex];
            };
            featuredArr.push(getRandomElement());
            featuredArr.push(getRandomElement());
            featuredArr.push(getRandomElement());
            return featuredArr;
        };
        this._getQuantityBrands = () => (0, countQuantitiesUniqEntries_1.countQuantitiesUniqEntries)(this.list.map((product) => product.brand));
        this._getQuantityCategories = () => (0, countQuantitiesUniqEntries_1.countQuantitiesUniqEntries)(this.list.map((product) => product.category));
        this._getPriceRange = () => {
            var _a;
            const prices = (_a = this.list) === null || _a === void 0 ? void 0 : _a.map((product) => product.price);
            if (prices) {
                return {
                    min: Math.min(...prices),
                    max: Math.max(...prices)
                };
            }
        };
        this._filterByMaxPrice = (arr) => {
            const bufferArr = this._cloneArray(arr);
            const filtered = [...bufferArr].filter((elem) => elem.price <= this.activeFilters.maxPrice);
            return filtered;
        };
        this._filterBySearchValue = (arr) => {
            const bufferArr = this._cloneArray(arr);
            const filtered = [...bufferArr].filter((elem) => elem.title.toLowerCase().includes(this.activeFilters.search.toLowerCase()));
            return filtered;
        };
        this._filterByBrands = (arr) => {
            if (this.activeFilters.brand.length !== 0) {
                const bufferArr = this._cloneArray(arr);
                const returnArr = [];
                this.activeFilters.brand.forEach((filterValue) => {
                    const filtered = [...bufferArr].filter((elem) => elem.brand === filterValue);
                    returnArr.push(...filtered);
                });
                return returnArr;
            }
            else {
                return arr;
            }
        };
        this._filterByCategories = (arr) => {
            if (this.activeFilters.category.length !== 0) {
                const bufferArr = this._cloneArray(arr);
                const returnArr = [];
                this.activeFilters.category.forEach((filterValue) => {
                    const filtered = [...bufferArr].filter((elem) => elem.category === filterValue);
                    returnArr.push(...filtered);
                });
                return returnArr;
            }
            else {
                return this._cloneArray(arr);
            }
        };
        this._getFilteredCategories = () => {
            let arr = this._cloneArray(this.list);
            arr = this._cloneArray(this._filterBySearchValue(arr));
            arr = this._cloneArray(this._filterByMaxPrice(arr));
            arr = this._cloneArray(this._filterByBrands(arr));
            this.filteredCategories = (0, countQuantitiesUniqEntries_1.countQuantitiesUniqEntries)(arr.map((product) => product.category));
        };
        this._getFilteredBrands = () => {
            let arr = this._cloneArray(this.list);
            arr = this._cloneArray(this._filterBySearchValue(arr));
            arr = this._cloneArray(this._filterByCategories(arr));
            arr = this._cloneArray(this._filterByMaxPrice(arr));
            this.filteredBrands = (0, countQuantitiesUniqEntries_1.countQuantitiesUniqEntries)(arr.map((product) => product.brand));
        };
        this.filterList = () => {
            this.filteredList = [...this.list];
            this.filteredList = this._filterByMaxPrice(this.filteredList);
            this.filteredList = this._filterBySearchValue(this.filteredList);
            this.filteredList = [...this._filterByBrands(this.filteredList)];
            this.filteredList = [...this._filterByCategories(this.filteredList)];
            this._getFilteredCategories();
            this._getFilteredBrands();
        };
        this.getItemById = (searchingId) => {
            const { id, title, price, images: [image] } = this.filteredList.find((item) => item.id === searchingId);
            return {
                id: id,
                title: title,
                price: price,
                image: image,
                quantity: 1
            };
        };
        this.filteredList = Array.from(this.list);
        if (list) {
            this.filters.brand = this._getQuantityBrands();
            this.filters.category = this._getQuantityCategories();
            this.priceRange = this._getPriceRange();
            this.activeFilters.maxPrice = this.priceRange.max;
        }
    }
    addActiveFilter(string) {
        const [filterType, value] = string.split('_');
        if ((filterType === 'brand' || filterType === 'category') && typeof value === 'string') {
            this.activeFilters[filterType].push(value);
        }
        if (filterType === 'maxPrice' && typeof value === 'number') {
            this.activeFilters[filterType] = value;
        }
    }
    removeElementFromActiveFilter(string) {
        const [filterType, value] = string.split('_');
        if ((filterType === 'brand' || filterType === 'category') && typeof value === 'string') {
            const arr = this.activeFilters[filterType];
            arr.splice(arr.findIndex((filter) => filter === value), 1);
            this.activeFilters[filterType] = arr;
        }
    }
    _deepCloneArray(arr) {
        return JSON.parse(JSON.stringify(arr));
    }
    _cloneArray(arr) {
        return [...arr];
    }
}
exports.ShopData = ShopData;


/***/ }),

/***/ "./src/ts/component/render.ts":
/*!************************************!*\
  !*** ./src/ts/component/render.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.renderFn = exports.Render = void 0;
class Render {
    constructor() {
        this.renderShoppingCartItem = (item) => {
            const { title, price, image, quantity, id } = item;
            return `
    <li class="shopping-cart__item shopping-item_cart" data-id="${id}">
      <div class="shopping-item__img-background" style="background-image: url('${image}');"></div>
      <div class="shopping-item__info-cart">
        <h3 class="shopping-item__name_cart">${title}</h3>
        <data class="shopping-item__price-value_cart" value="${price}">$${price}</data>
        <button class="shopping-item__btn_remove">remove</button>
      </div>
      <div class="shopping-item__quantity">
        <button class="shopping-item__btn_add-item">
          <svg style="width: 24px; height: 24px" viewBox="0 0 24 24">
            <path
              fill="currentColor"
              d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z"
            />
          </svg>
        </button>
        <div class="shopping-item__quantity-display">${quantity}</div>
        <button class="shopping-item__btn_reduce-item">
          <svg style="width: 24px; height: 24px" viewBox="0 0 24 24">
            <path
              fill="currentColor"
              d="M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z"
            />
          </svg>
        </button>
      </div>
    </li>
    `;
        };
        this.renderFeaturedList = (featuredArray) => {
            if (document.title === 'Shop') {
                const list = document.querySelector('.footer__featured-list');
                list.innerHTML = '';
                featuredArray.forEach((elem) => {
                    const { title, price, images, id } = elem;
                    list.insertAdjacentHTML('beforeend', `
        <li class="products__item shopping-item" data-id="${id}">
          <img src="${images[0]}" alt="" class="shopping-item__img">
          <h3 class="shopping-item__name">${title}</h3>
          <div class="shopping-item__price-and-cart">
            <data class="shopping-item__price-value" value="${price}">$${price}</data>
            <svg class="shopping-item__btn-cart__img" style="width: 24px; height: 24px" viewBox="0 0 24 24">
              <path fill="currentColor" d="M17,18A2,2 0 0,1 19,20A2,2 0 0,1 17,22C15.89,22 15,21.1 15,20C15,18.89 15.89,18 17,18M1,2H4.27L5.21,4H20A1,1 0 0,1 21,5C21,5.17 20.95,5.34 20.88,5.5L17.3,11.97C16.96,12.58 16.3,13 15.55,13H8.1L7.2,14.63L7.17,14.75A0.25,0.25 0 0,0 7.42,15H19V17H7C5.89,17 5,16.1 5,15C5,14.65 5.09,14.32 5.24,14.04L6.6,11.59L3,4H1V2M7,18A2,2 0 0,1 9,20A2,2 0 0,1 7,22C5.89,22 5,21.1 5,20C5,18.89 5.89,18 7,18M16,11L18.78,6H6.14L8.5,11H16Z" />
            </svg>
          </div>
        </li>
      `);
                });
            }
        };
        this.renderHtmlProductsList = (productArray) => {
            if (document.title === 'Products') {
                const list = document.querySelector('.products');
                list.innerHTML = '';
                productArray.forEach((elem) => {
                    const { title, price, images, id } = elem;
                    list.insertAdjacentHTML('beforeend', `
        <li class="products__item shopping-item" data-id="${id}">
          <img src="${images[0]}" alt="" class="shopping-item__img">
          <h3 class="shopping-item__name">${title}</h3>
          <div class="shopping-item__price-and-cart">
            <data class="shopping-item__price-value" value="${price}">$${price}</data>
            <svg class="shopping-item__btn-cart__img" style="width: 24px; height: 24px" viewBox="0 0 24 24">
              <path fill="currentColor" d="M17,18A2,2 0 0,1 19,20A2,2 0 0,1 17,22C15.89,22 15,21.1 15,20C15,18.89 15.89,18 17,18M1,2H4.27L5.21,4H20A1,1 0 0,1 21,5C21,5.17 20.95,5.34 20.88,5.5L17.3,11.97C16.96,12.58 16.3,13 15.55,13H8.1L7.2,14.63L7.17,14.75A0.25,0.25 0 0,0 7.42,15H19V17H7C5.89,17 5,16.1 5,15C5,14.65 5.09,14.32 5.24,14.04L6.6,11.59L3,4H1V2M7,18A2,2 0 0,1 9,20A2,2 0 0,1 7,22C5.89,22 5,21.1 5,20C5,18.89 5.89,18 7,18M16,11L18.78,6H6.14L8.5,11H16Z" />
            </svg>
          </div>
        </li>
      `);
                });
            }
        };
        this.renderTemplateShoppingCart = () => {
            document.body.insertAdjacentHTML('beforeend', `
    <div class="shopping-cart__wrapper hidden">
      <section class="shopping-cart">
        <button class="shopping-cart__btn_exit">
          <svg style="width: 24px; height: 24px" viewBox="0 0 24 24">
            <path
              fill="currentColor"
              d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"
            />
          </svg>
        </button>
        <h3 class="shopping-cart__title">Your Bag</h3>
        <ul class="shopping-cart__list">
        </ul>
        <button class="shopping-cart__btn-remove-all">x remove all</button>
        <p class="shopping-cart__total">
          Total :
          <data class="shopping-cart__total_amount"></data>
        </p>
        <button class="shopping-cart__btn_checkout">checkout</button>
      </section>
    </div>
    `);
        };
        if (document.title === 'Products') {
            this.renderSideBar = new RenderSideBar();
        }
    }
}
exports.Render = Render;
class RenderSideBar {
    constructor() {
        this._renderSearch = () => {
            this.sidebar.insertAdjacentHTML('afterbegin', `
      <input class="sidebar__search" type="text" name="search" placeholder="Search..." />
    `);
        };
        this._renderFilterCategory = (filterCategoryName, filterCategoryEntries) => {
            this.sidebar.insertAdjacentHTML('beforeend', `
      <h3 class="sidebar__title">${filterCategoryName}</h3>
      <ul class="sidebar__filter-list" id="categoriesList${filterCategoryName}">
        <li class="sidebar__filter-item sidebar__first-list-item" data-filter="${filterCategoryName}_all">All</li>
      </ul>
      `);
            const listFilter = this.sidebar.querySelector(`#categoriesList${filterCategoryName}`);
            Object.entries(filterCategoryEntries).forEach(([value, quantity]) => {
                listFilter === null || listFilter === void 0 ? void 0 : listFilter.insertAdjacentHTML('beforeend', `
      <li class="sidebar__filter-item" data-filter="${filterCategoryName}_${value}">${value} 
        <div class="sidebar__elem-counter">${quantity}</div>
      </li>`);
            });
        };
        this._renderPriceRange = (arr) => {
            this.sidebar.insertAdjacentHTML('beforeend', `
      <h3 class="sidebar__title">Price</h3>
      <input class="sidebar__price-range" type="range" name="price-range" max="${arr.max}" min="${arr.min}" value="${arr.max}"/>
      <data class="sidebar__filter-max-price">Max price: $${arr.max}</data>
      `);
            const priceRangeINput = this.sidebar.querySelector('.sidebar__price-range');
            const priceRangeData = this.sidebar.querySelector('.sidebar__filter-max-price');
            priceRangeINput === null || priceRangeINput === void 0 ? void 0 : priceRangeINput.addEventListener('mousemove', () => {
                priceRangeData.textContent = `Max price: $${priceRangeINput.value} `;
            });
        };
        this.renderSideBar = (data) => {
            this._renderSearch();
            Object.entries(data.filters).forEach((filter) => {
                const [filterType, filterValue] = filter;
                this._renderFilterCategory(filterType, filterValue);
            });
            this._renderPriceRange(data.priceRange);
        };
        this.reRenderCountersQuantities = (brands, categories) => {
            const nodeListOfCounters = this.sidebar.querySelectorAll('.sidebar__elem-counter');
            nodeListOfCounters.forEach((counter) => {
                const [filterType, filterValue] = counter.parentElement.dataset.filter.split('_');
                if (filterType === 'category') {
                    const filterTypeAndCount = Object.entries(categories).find((category) => category[0] === filterValue);
                    if (filterTypeAndCount) {
                        counter.textContent = filterTypeAndCount[1].toString();
                        counter.parentElement.classList.remove('deactivated');
                    }
                    else {
                        counter.textContent = '0';
                        counter.parentElement.classList.add('deactivated');
                    }
                }
                if (filterType === 'brand') {
                    const filterTypeAndCount = Object.entries(brands).find((brand) => brand[0] === filterValue);
                    if (filterTypeAndCount) {
                        counter.textContent = filterTypeAndCount[1].toString();
                        counter.parentElement.classList.remove('deactivated');
                    }
                    else {
                        counter.textContent = '0';
                        counter.parentElement.classList.add('deactivated');
                    }
                }
            });
        };
        this.sidebar = document.querySelector('.sidebar');
    }
}
exports.renderFn = new Render();


/***/ }),

/***/ "./src/ts/component/saveAndRestoreLocalStorage.ts":
/*!********************************************************!*\
  !*** ./src/ts/component/saveAndRestoreLocalStorage.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, exports) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.memoryFn = void 0;
class SaveLocalStorage {
    constructor() {
        this.saveCartItems = (data) => {
            window.localStorage.setItem('cart', JSON.stringify(data));
        };
        this.restoreCartItems = () => JSON.parse(window.localStorage.getItem('cart'));
    }
}
exports.memoryFn = new SaveLocalStorage();


/***/ }),

/***/ "./src/ts/component/shoppingCart.ts":
/*!******************************************!*\
  !*** ./src/ts/component/shoppingCart.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {


Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ShoppingCart = void 0;
const render_1 = __webpack_require__(/*! ./render */ "./src/ts/component/render.ts");
const saveAndRestoreLocalStorage_1 = __webpack_require__(/*! ./saveAndRestoreLocalStorage */ "./src/ts/component/saveAndRestoreLocalStorage.ts");
class DOMShoppingCart {
    constructor() {
        this.cartWrapper = document.querySelector('.shopping-cart__wrapper');
        this.list = this.cartWrapper.querySelector('.shopping-cart__list');
        this.sumAmountHTML = this.cartWrapper.querySelector('.shopping-cart__total_amount');
        this.cartBody = this.cartWrapper.querySelector('.shopping-cart');
        this.btnExit = this.cartBody.querySelector('.shopping-cart__btn_exit');
        this.headerCartIcon = document.querySelector('.btn-cart__quantity');
    }
}
class ShoppingCart {
    constructor() {
        this.items = [];
        this._saveCart = () => {
            saveAndRestoreLocalStorage_1.memoryFn.saveCartItems(this.items);
        };
        this.reRenderCart = () => {
            this._getTotalSum();
            this._DOM.list.innerHTML = '';
            this.items.forEach((item) => {
                if (item.quantity > 0) {
                    this._DOM.list.insertAdjacentHTML('beforeend', render_1.renderFn.renderShoppingCartItem(item));
                }
            });
            this._changeSum();
            this._saveCart();
        };
        this._changeHeaderIcon = () => {
            const quantityOfItems = this.items.length;
            this._DOM.headerCartIcon.innerHTML = `${quantityOfItems}`;
        };
        this._changeSum = () => {
            this._getTotalSum();
            this._DOM.sumAmountHTML.innerHTML = `$${this._sum}`;
        };
        this._getTotalSum = () => {
            if (this.items.length !== 0) {
                this._sum = this.items.reduce((sum, elem) => sum + elem.price, 0);
            }
            else {
                this._sum = 0;
            }
        };
        this._hideShoppingCart = (e) => {
            const target = e.target;
            if (!this._DOM.cartBody.contains(target) || this._DOM.btnExit.contains(target)) {
                this._DOM.cartWrapper.classList.add('hidden');
                document.body.removeEventListener('click', this._hideShoppingCart);
            }
        };
        this.showShoppingCart = () => {
            this._DOM.cartWrapper.classList.remove('hidden');
            document.body.addEventListener('click', this._hideShoppingCart);
            this.reRenderCart();
        };
        this.addQuantityToItem = (id) => {
            const indexOfItem = this.items.findIndex((elem) => elem.id === id);
            if (indexOfItem !== -1) {
                this.items[indexOfItem].quantity += 1;
                this.reRenderCart();
                return true;
            }
            else {
                return false;
            }
        };
        this._getItemById = (id) => this.items.find((elem) => elem.id === id);
        this.reduceItemFromCartByID = (id) => {
            const item = this._getItemById(id);
            if (item.quantity == 1) {
                this.deleteItemById(id);
            }
            else {
                item.quantity -= 1;
            }
            this.reRenderCart();
        };
        this.deleteItemById = (id) => {
            const index = this.items.findIndex((elem) => elem.id === id);
            if (confirm(`Remove from cart item: ${this.items[index].title}`)) {
                const arr = [...this.items];
                arr.splice(index, 1);
                this.items = arr;
                this.reRenderCart();
                this._changeHeaderIcon();
            }
        };
        this.addItemToCart = (item) => {
            this.items.push(item);
            this._changeHeaderIcon();
            this._saveCart();
        };
        this.removeAll = () => {
            if (confirm('Clear cart?')) {
                this.items.length = 0;
                this.reRenderCart();
                this._changeHeaderIcon();
            }
        };
        render_1.renderFn.renderTemplateShoppingCart();
        this._DOM = new DOMShoppingCart();
        this.reRenderCart();
    }
}
exports.ShoppingCart = ShoppingCart;
const shoppingCart = new ShoppingCart();
exports["default"] = shoppingCart;


/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
var exports = __webpack_exports__;
/*!*************************!*\
  !*** ./src/ts/index.ts ***!
  \*************************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ../index.html */ "./src/index.html");
__webpack_require__(/*! ../products.html */ "./src/products.html");
__webpack_require__(/*! ../sass/style.sass */ "./src/sass/style.sass");
__webpack_require__(/*! ./component/app */ "./src/ts/component/app.ts");

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUN0QixJQUFJLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztZQUN6QixJQUFJLENBQUMsU0FBUyxFQUFFO1FBQ2xCLENBQUMsQ0FBQztRQUVGLGNBQVMsR0FBRyxHQUFHLEVBQUU7WUFDZixJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsRUFBRTtnQkFDMUIsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDO2dCQUN0QixJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7Z0JBQ3BCLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFDO2FBQzFCO1FBQ0gsQ0FBQyxDQUFDO1FBbkdBLGlCQUFRLENBQUMsMEJBQTBCLEVBQUU7UUFDckMsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLGVBQWUsRUFBRTtRQUNqQyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDdEIsQ0FBQztDQWlHRjtBQTNHRCxvQ0EyR0M7QUFFRCxNQUFNLFlBQVksR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO0FBQ3hDLHFCQUFlLFlBQVksQ0FBQzs7Ozs7OztVQ2xJNUI7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTs7VUFFQTtVQUNBOztVQUVBO1VBQ0E7VUFDQTs7Ozs7V0N0QkE7V0FDQTtXQUNBO1dBQ0E7V0FDQSx5Q0FBeUMsd0NBQXdDO1dBQ2pGO1dBQ0E7V0FDQTs7Ozs7V0NQQTs7Ozs7V0NBQTtXQUNBO1dBQ0E7V0FDQSx1REFBdUQsaUJBQWlCO1dBQ3hFO1dBQ0EsZ0RBQWdELGFBQWE7V0FDN0Q7Ozs7Ozs7Ozs7Ozs7QUNOQSw2REFBdUI7QUFDdkIsbUVBQTBCO0FBQzFCLHVFQUE0QjtBQUU1Qix3RUFBeUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qcy8uL3NyYy9pbmRleC5odG1sIiwid2VicGFjazovL2pzLy4vc3JjL3Byb2R1Y3RzLmh0bWwiLCJ3ZWJwYWNrOi8vanMvLi9zcmMvc2Fzcy9zdHlsZS5zYXNzPzE4MzAiLCJ3ZWJwYWNrOi8vanMvLi9zcmMvdHMvY29tcG9uZW50L2FkZFRpdGxlLnRzIiwid2VicGFjazovL2pzLy4vc3JjL3RzL2NvbXBvbmVudC9hcHAudHMiLCJ3ZWJwYWNrOi8vanMvLi9zcmMvdHMvY29tcG9uZW50L2NsaWNrSGFuZGxlci50cyIsIndlYnBhY2s6Ly9qcy8uL3NyYy90cy9jb21wb25lbnQvY291bnRRdWFudGl0aWVzVW5pcUVudHJpZXMudHMiLCJ3ZWJwYWNrOi8vanMvLi9zcmMvdHMvY29tcG9uZW50L2dldFNob3BEYXRhLnRzIiwid2VicGFjazovL2pzLy4vc3JjL3RzL2NvbXBvbmVudC9yZW5kZXIudHMiLCJ3ZWJwYWNrOi8vanMvLi9zcmMvdHMvY29tcG9uZW50L3NhdmVBbmRSZXN0b3JlTG9jYWxTdG9yYWdlLnRzIiwid2VicGFjazovL2pzLy4vc3JjL3RzL2NvbXBvbmVudC9zaG9wcGluZ0NhcnQudHMiLCJ3ZWJwYWNrOi8vanMvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vanMvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL2pzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vanMvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9qcy8uL3NyYy90cy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8IURPQ1RZUEUgaHRtbD5cXG48aHRtbCBsYW5nPVxcXCJlblxcXCI+XFxuICA8aGVhZD5cXG4gICAgPG1ldGEgY2hhcnNldD1cXFwiVVRGLThcXFwiIC8+XFxuICAgIDxtZXRhIGh0dHAtZXF1aXY9XFxcIlgtVUEtQ29tcGF0aWJsZVxcXCIgY29udGVudD1cXFwiSUU9ZWRnZVxcXCIgLz5cXG4gICAgPG1ldGEgbmFtZT1cXFwidmlld3BvcnRcXFwiIGNvbnRlbnQ9XFxcIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcXFwiIC8+XFxuICAgIDx0aXRsZT5TaG9wPC90aXRsZT5cXG4gIDwvaGVhZD5cXG5cXG4gIDxib2R5PlxcbiAgICA8aGVhZGVyIGNsYXNzPVxcXCJoZWFkZXJcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImhlYWRlcl9fY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxuYXYgY2xhc3M9XFxcImhlYWRlcl9uYXZcXFwiPlxcbiAgICAgICAgICA8dWwgY2xhc3M9XFxcImhlYWRlcl9fbmF2LWxpbmtzLWxpc3RcXFwiPlxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwiaGVhZGVyX19uYXYtbGluay1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcIi4vaW5kZXguaHRtbFxcXCIgY2xhc3M9XFxcImhlYWRlcl9fbmF2LWxpbmtcXFwiPkhvbWU8L2E+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFxcImhlYWRlcl9fbmF2LWxpbmstaXRlbVxcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIuL3Byb2R1Y3RzLmh0bWxcXFwiIGNsYXNzPVxcXCJoZWFkZXJfX25hdi1saW5rXFxcIj5Qcm9kdWN0czwvYT5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwiaGVhZGVyX19uYXYtbGluay1pdGVtXFxcIj5cXG4gICAgICAgICAgICAgIDxhIGhyZWY9XFxcIi4vYWJvdXQuaHRtbFxcXCIgY2xhc3M9XFxcImhlYWRlcl9fbmF2LWxpbmtcXFwiPkFib3V0PC9hPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgIDwvdWw+XFxuICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJoZWFkZXJfX2xvZ29cXFwiPmNvbWZ5PC9zcGFuPlxcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVxcXCJoZWFkZXJfX2J0bi1jYXJ0IGJ0bi1jYXJ0XFxcIj5cXG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVxcXCJidG4tY2FydF9faW1nXFxcIiBzdHlsZT1cXFwid2lkdGg6IDI0cHg7IGhlaWdodDogMjRweFxcXCIgdmlld0JveD1cXFwiMCAwIDI0IDI0XFxcIj5cXG4gICAgICAgICAgICAgIDxwYXRoXFxuICAgICAgICAgICAgICAgIGZpbGw9XFxcImN1cnJlbnRDb2xvclxcXCJcXG4gICAgICAgICAgICAgICAgZD1cXFwiTTE3LDE4QzE1Ljg5LDE4IDE1LDE4Ljg5IDE1LDIwQTIsMiAwIDAsMCAxNywyMkEyLDIgMCAwLDAgMTksMjBDMTksMTguODkgMTguMSwxOCAxNywxOE0xLDJWNEgzTDYuNiwxMS41OUw1LjI0LDE0LjA0QzUuMDksMTQuMzIgNSwxNC42NSA1LDE1QTIsMiAwIDAsMCA3LDE3SDE5VjE1SDcuNDJBMC4yNSwwLjI1IDAgMCwxIDcuMTcsMTQuNzVDNy4xNywxNC43IDcuMTgsMTQuNjYgNy4yLDE0LjYzTDguMSwxM0gxNS41NUMxNi4zLDEzIDE2Ljk2LDEyLjU4IDE3LjMsMTEuOTdMMjAuODgsNS41QzIwLjk1LDUuMzQgMjEsNS4xNyAyMSw1QTEsMSAwIDAsMCAyMCw0SDUuMjFMNC4yNywyTTcsMThDNS44OSwxOCA1LDE4Ljg5IDUsMjBBMiwyIDAgMCwwIDcsMjJBMiwyIDAgMCwwIDksMjBDOSwxOC44OSA4LjEsMTggNywxOFpcXFwiXFxuICAgICAgICAgICAgICAvPlxcbiAgICAgICAgICAgIDwvc3ZnPlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1jYXJ0X19xdWFudGl0eVxcXCI+MDwvZGl2PlxcbiAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIDwvbmF2PlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2hlYWRlcj5cXG4gICAgPG1haW4gY2xhc3M9XFxcImhlcm9cXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImhlcm9fX2NvbnRhaW5lclxcXCI+XFxuICAgICAgICA8aDEgY2xhc3M9XFxcImhlcm9fX3RpdGxlXFxcIj5SZXN0LCBSZWxheCwgVW53aW5kPC9oMT5cXG4gICAgICAgIDxwIGNsYXNzPVxcXCJoZXJvX190ZXh0XFxcIj5FbWJyYWNlIHlvdXIgY2hvaWNlcyAtIHdlIGRvPC9wPlxcbiAgICAgICAgPGEgaHJlZj1cXFwiLi9wcm9kdWN0cy5odG1sXFxcIiBjbGFzcz1cXFwiaGVyb19fYnRuLWxpbmtcXFwiPnNob3cgbm93PC9hPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiaGVyb19fbGljZW5zZVxcXCI+XFxuICAgICAgICAgIFBob3RvIGJ5XFxuICAgICAgICAgIDxhXFxuICAgICAgICAgICAgaHJlZj1cXFwiaHR0cHM6Ly91bnNwbGFzaC5jb20vQGFubmllc3ByYXR0P3V0bV9zb3VyY2U9dW5zcGxhc2gmdXRtX21lZGl1bT1yZWZlcnJhbCZ1dG1fY29udGVudD1jcmVkaXRDb3B5VGV4dFxcXCJcXG4gICAgICAgICAgICA+QW5uaWUgU3ByYXR0PC9hXFxuICAgICAgICAgID5cXG4gICAgICAgICAgb25cXG4gICAgICAgICAgPGFcXG4gICAgICAgICAgICBocmVmPVxcXCJodHRwczovL3Vuc3BsYXNoLmNvbS9waG90b3MvNTJBQWlYV29WaTA/dXRtX3NvdXJjZT11bnNwbGFzaCZ1dG1fbWVkaXVtPXJlZmVycmFsJnV0bV9jb250ZW50PWNyZWRpdENvcHlUZXh0XFxcIlxcbiAgICAgICAgICAgID5VbnNwbGFzaDwvYVxcbiAgICAgICAgICA+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9tYWluPlxcbiAgICA8Zm9vdGVyIGNsYXNzPVxcXCJmb290ZXJcXFwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XFxcImZvb3Rlcl9fY29udGFpbmVyXFxcIj5cXG4gICAgICAgIDxoMiBjbGFzcz1cXFwiZm9vdGVyX190aXRsZVxcXCI+RmVhdHVyZWQ8L2gyPlxcbiAgICAgICAgPHVsIGNsYXNzPVxcXCJmb290ZXJfX2ZlYXR1cmVkLWxpc3RcXFwiPlxcbiAgICAgICAgICA8bGkgY2xhc3M9XFxcImZvb3Rlcl9fZmVhdHVyZWQtaXRlbSBzaG9wcGluZy1pdGVtXFxcIj5cXG4gICAgICAgICAgICA8aW1nXFxuICAgICAgICAgICAgICBzcmM9XFxcImh0dHBzOi8vd3d3LmlrZWEuY29tL2NhL2VuL2ltYWdlcy9wcm9kdWN0cy9saWRhcy1jaGFpci13aGl0ZS1zZWZhc3QtY2hyb21lLXBsYXRlZF9fMTEwNjM0N19wZTg2ODY4OF9zNS5qcGc/Zj14bFxcXCJcXG4gICAgICAgICAgICAgIGFsdD1cXFwiXFxcIlxcbiAgICAgICAgICAgICAgY2xhc3M9XFxcInNob3BwaW5nLWl0ZW1fX2ltZ1xcXCJcXG4gICAgICAgICAgICAvPlxcbiAgICAgICAgICAgIDxoMyBjbGFzcz1cXFwic2hvcHBpbmctaXRlbV9fbmFtZVxcXCI+SHVnaC1CYWNrIEJlbmNoPC9oMz5cXG4gICAgICAgICAgICA8ZGF0YSBjbGFzcz1cXFwic2hvcHBpbmctaXRlbV9fcHJpY2UtdmFsdWVcXFwiIHZhbHVlPVxcXCI5Ljk5XFxcIj4kOS45OTwvZGF0YT5cXG4gICAgICAgICAgPC9saT5cXG4gICAgICAgICAgPGxpIGNsYXNzPVxcXCJmb290ZXJfX2ZlYXR1cmVkLWl0ZW0gc2hvcHBpbmctaXRlbVxcXCI+XFxuICAgICAgICAgICAgPGltZ1xcbiAgICAgICAgICAgICAgc3JjPVxcXCJodHRwczovL3d3dy5pa2VhLmNvbS9jYS9lbi9pbWFnZXMvcHJvZHVjdHMvbGlkYXMtY2hhaXItd2hpdGUtc2VmYXN0LWNocm9tZS1wbGF0ZWRfXzExMDYzNDdfcGU4Njg2ODhfczUuanBnP2Y9eGxcXFwiXFxuICAgICAgICAgICAgICBhbHQ9XFxcIlxcXCJcXG4gICAgICAgICAgICAgIGNsYXNzPVxcXCJzaG9wcGluZy1pdGVtX19pbWdcXFwiXFxuICAgICAgICAgICAgLz5cXG4gICAgICAgICAgICA8aDMgY2xhc3M9XFxcInNob3BwaW5nLWl0ZW1fX25hbWVcXFwiPkh1Z2gtQmFjayBCZW5jaDwvaDM+XFxuICAgICAgICAgICAgPGRhdGEgY2xhc3M9XFxcInNob3BwaW5nLWl0ZW1fX3ByaWNlLXZhbHVlXFxcIiB2YWx1ZT1cXFwiOS45OVxcXCI+JDkuOTk8L2RhdGE+XFxuICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgIDxsaSBjbGFzcz1cXFwiZm9vdGVyX19mZWF0dXJlZC1pdGVtIHNob3BwaW5nLWl0ZW1cXFwiPlxcbiAgICAgICAgICAgIDxpbWdcXG4gICAgICAgICAgICAgIHNyYz1cXFwiaHR0cHM6Ly93d3cuaWtlYS5jb20vY2EvZW4vaW1hZ2VzL3Byb2R1Y3RzL2xpZGFzLWNoYWlyLXdoaXRlLXNlZmFzdC1jaHJvbWUtcGxhdGVkX18xMTA2MzQ3X3BlODY4Njg4X3M1LmpwZz9mPXhsXFxcIlxcbiAgICAgICAgICAgICAgYWx0PVxcXCJcXFwiXFxuICAgICAgICAgICAgICBjbGFzcz1cXFwic2hvcHBpbmctaXRlbV9faW1nXFxcIlxcbiAgICAgICAgICAgIC8+XFxuICAgICAgICAgICAgPGgzIGNsYXNzPVxcXCJzaG9wcGluZy1pdGVtX19uYW1lXFxcIj5IdWdoLUJhY2sgQmVuY2g8L2gzPlxcbiAgICAgICAgICAgIDxkYXRhIGNsYXNzPVxcXCJzaG9wcGluZy1pdGVtX19wcmljZS12YWx1ZVxcXCIgdmFsdWU9XFxcIjkuOTlcXFwiPiQ5Ljk5PC9kYXRhPlxcbiAgICAgICAgICA8L2xpPlxcbiAgICAgICAgPC91bD5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9mb290ZXI+XFxuICAgIDxzcGFuIGNsYXNzPVxcXCJtZGkgbWRpLWNvbnRlbnQtc2F2ZS1taW51cy1vdXRsaW5lXFxcIj48L3NwYW4+XFxuICA8L2JvZHk+XFxuPC9odG1sPlxcblwiO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgY29kZTsiLCIvLyBNb2R1bGVcbnZhciBjb2RlID0gXCI8IURPQ1RZUEUgaHRtbD5cXG48aHRtbCBsYW5nPVxcXCJlblxcXCI+XFxuICA8aGVhZD5cXG4gICAgPG1ldGEgY2hhcnNldD1cXFwiVVRGLThcXFwiIC8+XFxuICAgIDxtZXRhIGh0dHAtZXF1aXY9XFxcIlgtVUEtQ29tcGF0aWJsZVxcXCIgY29udGVudD1cXFwiSUU9ZWRnZVxcXCIgLz5cXG4gICAgPG1ldGEgbmFtZT1cXFwidmlld3BvcnRcXFwiIGNvbnRlbnQ9XFxcIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcXFwiIC8+XFxuICAgIDx0aXRsZT5Qcm9kdWN0czwvdGl0bGU+XFxuICA8L2hlYWQ+XFxuICA8Ym9keT5cXG4gICAgPGhlYWRlciBjbGFzcz1cXFwiaGVhZGVyXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJoZWFkZXJfX2NvbnRhaW5lclxcXCI+XFxuICAgICAgICA8bmF2IGNsYXNzPVxcXCJoZWFkZXJfbmF2XFxcIj5cXG4gICAgICAgICAgPHVsIGNsYXNzPVxcXCJoZWFkZXJfX25hdi1saW5rcy1saXN0XFxcIj5cXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFxcImhlYWRlcl9fbmF2LWxpbmstaXRlbVxcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIuL2luZGV4Lmh0bWxcXFwiIGNsYXNzPVxcXCJoZWFkZXJfX25hdi1saW5rXFxcIj5Ib21lPC9hPlxcbiAgICAgICAgICAgIDwvbGk+XFxuICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJoZWFkZXJfX25hdi1saW5rLWl0ZW1cXFwiPlxcbiAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiLi9wcm9kdWN0cy5odG1sXFxcIiBjbGFzcz1cXFwiaGVhZGVyX19uYXYtbGlua1xcXCI+UHJvZHVjdHM8L2E+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8bGkgY2xhc3M9XFxcImhlYWRlcl9fbmF2LWxpbmstaXRlbVxcXCI+XFxuICAgICAgICAgICAgICA8YSBocmVmPVxcXCIuL2Fib3V0Lmh0bWxcXFwiIGNsYXNzPVxcXCJoZWFkZXJfX25hdi1saW5rXFxcIj5BYm91dDwvYT5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaGVhZGVyX19sb2dvXFxcIj5jb21meTwvc3Bhbj5cXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwiaGVhZGVyX19idG4tY2FydCBidG4tY2FydFxcXCI+XFxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cXFwiYnRuLWNhcnRfX2ltZ1xcXCIgc3R5bGU9XFxcIndpZHRoOiAyNHB4OyBoZWlnaHQ6IDI0cHhcXFwiIHZpZXdCb3g9XFxcIjAgMCAyNCAyNFxcXCI+XFxuICAgICAgICAgICAgICA8cGF0aFxcbiAgICAgICAgICAgICAgICBmaWxsPVxcXCJjdXJyZW50Q29sb3JcXFwiXFxuICAgICAgICAgICAgICAgIGQ9XFxcIk0xNywxOEMxNS44OSwxOCAxNSwxOC44OSAxNSwyMEEyLDIgMCAwLDAgMTcsMjJBMiwyIDAgMCwwIDE5LDIwQzE5LDE4Ljg5IDE4LjEsMTggMTcsMThNMSwyVjRIM0w2LjYsMTEuNTlMNS4yNCwxNC4wNEM1LjA5LDE0LjMyIDUsMTQuNjUgNSwxNUEyLDIgMCAwLDAgNywxN0gxOVYxNUg3LjQyQTAuMjUsMC4yNSAwIDAsMSA3LjE3LDE0Ljc1QzcuMTcsMTQuNyA3LjE4LDE0LjY2IDcuMiwxNC42M0w4LjEsMTNIMTUuNTVDMTYuMywxMyAxNi45NiwxMi41OCAxNy4zLDExLjk3TDIwLjg4LDUuNUMyMC45NSw1LjM0IDIxLDUuMTcgMjEsNUExLDEgMCAwLDAgMjAsNEg1LjIxTDQuMjcsMk03LDE4QzUuODksMTggNSwxOC44OSA1LDIwQTIsMiAwIDAsMCA3LDIyQTIsMiAwIDAsMCA5LDIwQzksMTguODkgOC4xLDE4IDcsMThaXFxcIlxcbiAgICAgICAgICAgICAgLz5cXG4gICAgICAgICAgICA8L3N2Zz5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJidG4tY2FydF9fcXVhbnRpdHlcXFwiPjA8L2Rpdj5cXG4gICAgICAgICAgPC9idXR0b24+XFxuICAgICAgICA8L25hdj5cXG4gICAgICA8L2Rpdj5cXG4gICAgPC9oZWFkZXI+XFxuXFxuICAgIDxzZWN0aW9uIGNsYXNzPVxcXCJzaXRlLWxvY2F0aW9uXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJzaXRlLWxvY2F0aW9uX19jb250YWluZXJcXFwiPlxcbiAgICAgICAgPGEgY2xhc3M9XFxcInNpdGUtbG9jYXRpb25fX2xpbmtcXFwiIGhyZWY9XFxcIi4vaW5kZXguaHRtbFxcXCI+SG9tZSA8L2E+IC9cXG4gICAgICAgIDxhIGNsYXNzPVxcXCJzaXRlLWxvY2F0aW9uX19saW5rXFxcIiBocmVmPVxcXCIuL3Byb2R1Y3RzLmh0bWxcXFwiPlByb2R1Y3RzPC9hPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L3NlY3Rpb24+XFxuXFxuICAgIDxtYWluIGNsYXNzPVxcXCJtYWluXFxcIj5cXG4gICAgICA8ZGl2IGNsYXNzPVxcXCJtYWluX19jb250YWluZXJcXFwiPlxcbiAgICAgICAgPGFzaWRlIGNsYXNzPVxcXCJzaWRlYmFyXFxcIj5cXG4gICAgICAgICAgPCEtLSA8aW5wdXQgY2xhc3M9XFxcInNpZGViYXJfX3ByaWNlLXJhbmdlXFxcIiB0eXBlPVxcXCJyYW5nZVxcXCIgbmFtZT1cXFwicHJpY2UtcmFuZ2VcXFwiIC8+IC0tPlxcbiAgICAgICAgPC9hc2lkZT5cXG4gICAgICAgIDx1bCBjbGFzcz1cXFwicHJvZHVjdHNcXFwiPjwvdWw+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvbWFpbj5cXG4gIDwvYm9keT5cXG48L2h0bWw+XFxuXCI7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBjb2RlOyIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsImV4cG9ydCBjb25zdCBhZGRUaXRsZVRvRE9NID0gKCk9PntcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID0+IHtcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsIGRvY3VtZW50LnRpdGxlKTtcbiAgfSk7XG59IiwiaW1wb3J0IHsgYWRkVGl0bGVUb0RPTSB9IGZyb20gJy4vYWRkVGl0bGUnO1xuaW1wb3J0IHsgQ2xpY2tIYW5kbGVyIH0gZnJvbSAnLi9jbGlja0hhbmRsZXInO1xuaW1wb3J0IHsgZ2V0RGF0YSwgU2hvcERhdGEgfSBmcm9tICcuL2dldFNob3BEYXRhJztcbmltcG9ydCB7IHJlbmRlckZuIH0gZnJvbSAnLi9yZW5kZXInO1xuXG4oYXN5bmMgKCkgPT4ge1xuICBhZGRUaXRsZVRvRE9NKClcblxuICBjb25zdCBkYXRhID0gbmV3IFNob3BEYXRhKGF3YWl0IGdldERhdGEoKSk7XG4gIFxuICBpZiAoZG9jdW1lbnQudGl0bGU9PT0nUHJvZHVjdHMnKSB7XG4gICAgcmVuZGVyRm4ucmVuZGVySHRtbFByb2R1Y3RzTGlzdChkYXRhLmxpc3QhKTtcbiAgICByZW5kZXJGbi5yZW5kZXJTaWRlQmFyLnJlbmRlclNpZGVCYXIoZGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgcmVuZGVyRm4ucmVuZGVyRmVhdHVyZWRMaXN0KGRhdGEuZ2V0RmVhdHVyZWRJdGVtcygpKVxuICB9XG4gIFxuICBuZXcgQ2xpY2tIYW5kbGVyKGRhdGEpO1xufSkoKTtcbiIsImltcG9ydCB7IFNob3BEYXRhIH0gZnJvbSAnLi9nZXRTaG9wRGF0YSc7XG5pbXBvcnQge3JlbmRlckZuIH0gZnJvbSAnLi9yZW5kZXInO1xuaW1wb3J0IHNob3BwaW5nQ2FydCBmcm9tICcuL3Nob3BwaW5nQ2FydCc7XG5cblxuXG5jbGFzcyBGaWx0ZXJDbGlja0hhbmRsZXIge1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgdGFyZ2V0OiBIVE1MRWxlbWVudCwgcHVibGljIGRhdGE6IFNob3BEYXRhKSB7XG4gICAgdGhpcy5faW5pdGlhbGl6ZSgpO1xuICB9XG5cbiAgcHJpdmF0ZSBfYWN0aXZhdGVGaWx0ZXIgPSAoZWxlbWVudDogSFRNTEVsZW1lbnQpID0+IHtcbiAgICBjb25zdCBmaWx0ZXIgPSBlbGVtZW50LmRhdGFzZXQuZmlsdGVyITtcbiAgICBpZiAoIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIHRoaXMuZGF0YS5hZGRBY3RpdmVGaWx0ZXIoZmlsdGVyKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBfZGVhY3RpdmF0ZUZpbHRlciA9IChlbGVtZW50OiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IGZpbHRlciA9IGVsZW1lbnQuZGF0YXNldC5maWx0ZXIhO1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgdGhpcy5kYXRhLnJlbW92ZUVsZW1lbnRGcm9tQWN0aXZlRmlsdGVyKGZpbHRlcik7XG5cbiAgICAvLyByZW1vdmUgYWN0aXZlIGZyb20gXCJBbGxcIiB2YWx1ZSBmaWx0ZXIgZWxlbWVudFxuICAgIGNvbnN0IGFsbEJ0bkZpbHRlckxpc3QgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ/LmZpcnN0RWxlbWVudENoaWxkIGFzIEhUTUxFbGVtZW50O1xuICAgIGNvbnN0IGJ0bkZpbHRlciA9IGFsbEJ0bkZpbHRlckxpc3QuZGF0YXNldC5maWx0ZXIhO1xuXG4gICAgaWYgKGFsbEJ0bkZpbHRlckxpc3Q/LmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHtcbiAgICAgIGFsbEJ0bkZpbHRlckxpc3Q/LmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgdGhpcy5kYXRhLnJlbW92ZUVsZW1lbnRGcm9tQWN0aXZlRmlsdGVyKGJ0bkZpbHRlcik7XG4gICAgfVxuICB9O1xuXG5cbiAgcHJpdmF0ZSBfYWN0aXZhdGVGaWx0ZXJMaXN0ID0gKGFycmF5OiBFbGVtZW50W10pID0+IHtcbiAgICBhcnJheS5mb3JFYWNoKChsaXN0SXRlbSkgPT4ge1xuICAgICAgaWYgKGxpc3RJdGVtIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVGaWx0ZXIobGlzdEl0ZW0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBwcml2YXRlIF9kZWFjdGl2YXRlRmlsdGVyTGlzdCA9IChhcnJheTogRWxlbWVudFtdKSA9PiB7XG4gICAgYXJyYXkuZm9yRWFjaCgobGlzdEl0ZW0pID0+IHtcbiAgICAgIGlmIChsaXN0SXRlbSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2RlYWN0aXZhdGVGaWx0ZXIobGlzdEl0ZW0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgX2hhbmRsZUNsaWNrT25GaWx0ZXJFbGVtZW50ID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkge1xuICAgICAgdGhpcy5fZGVhY3RpdmF0ZUZpbHRlcihlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYWN0aXZhdGVGaWx0ZXIoZWxlbWVudCk7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgX2luaXRpYWxpemUgPSAoKSA9PiB7XG4gICAgY29uc3QgZmlsdGVyID0gdGhpcy50YXJnZXQuZGF0YXNldC5maWx0ZXIhO1xuXG4gICAgaWYgKGZpbHRlciA9PT0gJ2NhdGVnb3J5X2FsbCcgfHwgZmlsdGVyID09PSAnYnJhbmRfYWxsJykge1xuICAgICAgY29uc3QgYXJyYXlGaWx0ZXJzID0gQXJyYXkuZnJvbSh0aGlzLnRhcmdldC5wYXJlbnRFbGVtZW50IS5jaGlsZHJlbik7XG5cbiAgICAgIGlmICh0aGlzLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7XG4gICAgICAgIHRoaXMuX2RlYWN0aXZhdGVGaWx0ZXJMaXN0KGFycmF5RmlsdGVycyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9hY3RpdmF0ZUZpbHRlckxpc3QoYXJyYXlGaWx0ZXJzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGFuZGxlQ2xpY2tPbkZpbHRlckVsZW1lbnQodGhpcy50YXJnZXQpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IGNsYXNzIENsaWNrSGFuZGxlciB7XG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBkYXRhOiBTaG9wRGF0YSkge1xuICAgIHRoaXMuaW5pdGlhbGl6ZSgpO1xuICB9XG4gIHVwZGF0ZURhdGFBbmRSZW5kZXJMaXN0ID0gKCkgPT4ge1xuICAgIHRoaXMuZGF0YS5maWx0ZXJMaXN0KCk7XG4gICAgcmVuZGVyRm4ucmVuZGVySHRtbFByb2R1Y3RzTGlzdCh0aGlzLmRhdGEuZmlsdGVyZWRMaXN0KTtcbiAgfTtcblxuICBsaXN0ZW5lckZvck1heFByaWNlID0gKCkgPT4ge1xuICAgIGxldCBkZWxheTogTm9kZUpTLlRpbWVvdXQ7XG4gICAgY29uc3QgaW5wdXQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2lkZWJhcl9fcHJpY2UtcmFuZ2UnKSE7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChkZWxheSk7XG4gICAgICB9XG4gICAgICBkZWxheSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBtYXhQcmljZSA9IHBhcnNlSW50KGlucHV0LnZhbHVlKTtcbiAgICAgICAgdGhpcy5kYXRhLmFjdGl2ZUZpbHRlcnMubWF4UHJpY2UgPSBtYXhQcmljZTtcbiAgICAgICAgdGhpcy5kYXRhLnByaWNlUmFuZ2UubWF4ID0gbWF4UHJpY2U7XG4gICAgICAgIHRoaXMudXBkYXRlRGF0YUFuZFJlbmRlckxpc3QoKTtcbiAgICAgICAgcmVuZGVyRm4ucmVuZGVyU2lkZUJhci5yZVJlbmRlckNvdW50ZXJzUXVhbnRpdGllcyhcbiAgICAgICAgICB0aGlzLmRhdGEuZmlsdGVyZWRCcmFuZHMsXG4gICAgICAgICAgdGhpcy5kYXRhLmZpbHRlcmVkQ2F0ZWdvcmllc1xuICAgICAgICApO1xuICAgICAgfSwgNTAwKTtcbiAgICB9KTtcbiAgfTtcblxuICBsaXN0ZW5lckZvclNlYXJjaCA9KCk9PntcbiAgICBsZXQgZGVsYXk6IE5vZGVKUy5UaW1lb3V0O1xuICAgIGNvbnN0IGlucHV0OiBIVE1MSW5wdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGViYXJfX3NlYXJjaCcpITtcbiAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKCkgPT4ge1xuICAgICAgaWYgKGRlbGF5KSB7XG4gICAgICAgIGNsZWFyVGltZW91dChkZWxheSk7XG4gICAgICB9XG4gICAgICBkZWxheSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWFyY2ggPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgdGhpcy5kYXRhLmFjdGl2ZUZpbHRlcnMuc2VhcmNoID0gc2VhcmNoO1xuICAgICAgICB0aGlzLnVwZGF0ZURhdGFBbmRSZW5kZXJMaXN0KCk7XG4gICAgICAgIHJlbmRlckZuLnJlbmRlclNpZGVCYXIucmVSZW5kZXJDb3VudGVyc1F1YW50aXRpZXMoXG4gICAgICAgICAgdGhpcy5kYXRhLmZpbHRlcmVkQnJhbmRzLFxuICAgICAgICAgIHRoaXMuZGF0YS5maWx0ZXJlZENhdGVnb3JpZXNcbiAgICAgICAgKTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfSk7XG4gIH1cblxuICBpbml0aWFsaXplID0gKCkgPT4ge1xuXG4gICAgaWYgKGRvY3VtZW50LnRpdGxlPT09J1Byb2R1Y3RzJykge1xuICAgICAgdGhpcy5saXN0ZW5lckZvck1heFByaWNlKCk7XG4gICAgICB0aGlzLmxpc3RlbmVyRm9yU2VhcmNoKClcbiAgICB9XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcbiAgICAgIGNvbnNvbGUubG9nKHRhcmdldCk7XG4gICAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBFbGVtZW50KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmhlYWRlcl9fYnRuLWNhcnQnKSkge1xuICAgICAgICBzaG9wcGluZ0NhcnQuc2hvd1Nob3BwaW5nQ2FydCgpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5zaWRlYmFyX19maWx0ZXItaXRlbScpKSB7XG4gICAgICAgIG5ldyBGaWx0ZXJDbGlja0hhbmRsZXIodGFyZ2V0IGFzIEhUTUxFbGVtZW50LCB0aGlzLmRhdGEpO1xuICAgICAgICB0aGlzLnVwZGF0ZURhdGFBbmRSZW5kZXJMaXN0KCk7XG4gICAgICAgIHJlbmRlckZuLnJlbmRlclNpZGVCYXIucmVSZW5kZXJDb3VudGVyc1F1YW50aXRpZXMoXG4gICAgICAgICAgdGhpcy5kYXRhLmZpbHRlcmVkQnJhbmRzLFxuICAgICAgICAgIHRoaXMuZGF0YS5maWx0ZXJlZENhdGVnb3JpZXNcbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLy8gPT09PT09PT1TaG9wcGluZyBjYXJ0ID09PT09PT09PT09PT09PT09PT09PT1cblxuICAgICAgY29uc3QgZ2V0U2hvcHBpbmdDYXJ0SXRlbUlkID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBpdGVtID0gdGFyZ2V0LmNsb3Nlc3QoJy5zaG9wcGluZy1jYXJ0X19pdGVtJykhIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoaXRlbS5kYXRhc2V0LmlkISk7XG4gICAgICB9O1xuXG4gICAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5zaG9wcGluZy1pdGVtX19idG4tY2FydF9faW1nJykpIHtcbiAgICAgICAgY29uc3QgcGFyZW50RWxlbWVudCA9IHRhcmdldC5jbG9zZXN0KCcucHJvZHVjdHNfX2l0ZW0nKSEgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQocGFyZW50RWxlbWVudC5kYXRhc2V0LmlkISk7XG4gICAgICAgIC8vIGlmIGl0ZW0gbm90IGZvdW5kIGluIGNhcnQgYWRkIHJldHVybiBmYWxzZSwgYW5kIGFkZCBpdGVtXG4gICAgICAgIGlmICghc2hvcHBpbmdDYXJ0LmFkZFF1YW50aXR5VG9JdGVtKGlkKSkge1xuICAgICAgICAgIGNvbnN0IGl0ZW1Qcm9wc0ZvckNhcnQgPSB0aGlzLmRhdGEuZ2V0SXRlbUJ5SWQoaWQpO1xuICAgICAgICAgIHNob3BwaW5nQ2FydC5hZGRJdGVtVG9DYXJ0KGl0ZW1Qcm9wc0ZvckNhcnQpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLnNob3BwaW5nLWl0ZW1fX2J0bl9hZGQtaXRlbScpKSB7XG4gICAgICAgIGNvbnN0IGlkID0gZ2V0U2hvcHBpbmdDYXJ0SXRlbUlkKCk7XG4gICAgICAgIHNob3BwaW5nQ2FydC5hZGRRdWFudGl0eVRvSXRlbShpZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLnNob3BwaW5nLWl0ZW1fX2J0bl9yZWR1Y2UtaXRlbScpKSB7XG4gICAgICAgIGNvbnN0IGlkID0gZ2V0U2hvcHBpbmdDYXJ0SXRlbUlkKCk7XG4gICAgICAgIHNob3BwaW5nQ2FydC5yZWR1Y2VJdGVtRnJvbUNhcnRCeUlEKGlkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuc2hvcHBpbmctaXRlbV9fYnRuX3JlbW92ZScpKSB7XG4gICAgICAgIGNvbnN0IGlkID0gZ2V0U2hvcHBpbmdDYXJ0SXRlbUlkKCk7XG4gICAgICAgIHNob3BwaW5nQ2FydC5kZWxldGVJdGVtQnlJZChpZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLnNob3BwaW5nLWNhcnRfX2J0bi1yZW1vdmUtYWxsJykpIHtcbiAgICAgICAgc2hvcHBpbmdDYXJ0LnJlbW92ZUFsbCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuIiwiZXhwb3J0IGludGVyZmFjZSBJQ29sbGVjdGlvbldpdGhDb3VudCB7XG4gIFtpbmRleDogc3RyaW5nXTogbnVtYmVyO1xufVxuXG5leHBvcnQgY29uc3QgY291bnRRdWFudGl0aWVzVW5pcUVudHJpZXMgPSAoYXJyOiBzdHJpbmdbXSk6IElDb2xsZWN0aW9uV2l0aENvdW50ID0+IHtcbiAgY29uc3QgY29sbGVjdGlvbldpdGhDb3VudDogSUNvbGxlY3Rpb25XaXRoQ291bnQgPSB7fTtcblxuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgYXJyKSB7XG4gICAgaWYgKGNvbGxlY3Rpb25XaXRoQ291bnRbZWxlbWVudF0pIHtcbiAgICAgIGNvbGxlY3Rpb25XaXRoQ291bnRbZWxlbWVudF0gKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29sbGVjdGlvbldpdGhDb3VudFtlbGVtZW50XSA9IDE7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbGxlY3Rpb25XaXRoQ291bnQ7XG59O1xuIiwiaW1wb3J0IHsgSUNvbGxlY3Rpb25XaXRoQ291bnQsIGNvdW50UXVhbnRpdGllc1VuaXFFbnRyaWVzIH0gZnJvbSAnLi9jb3VudFF1YW50aXRpZXNVbmlxRW50cmllcyc7XG5pbXBvcnQgeyBJQ2FydEl0ZW1TdG9yZWQgfSBmcm9tICcuL3Nob3BwaW5nQ2FydCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVByb2R1Y3Qge1xuICBpZDogbnVtYmVyO1xuICB0aXRsZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBwcmljZTogbnVtYmVyO1xuICBkaXNjb3VudFBlcmNlbnRhZ2U6IG51bWJlcjtcbiAgcmF0aW5nOiBudW1iZXI7XG4gIHN0b2NrOiBudW1iZXI7XG4gIGJyYW5kOiBzdHJpbmc7XG4gIGNhdGVnb3J5OiBzdHJpbmc7XG4gIHRodW1ibmFpbDogVVJMO1xuICBpbWFnZXM6IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElNaW5NYXhPYmoge1xuICBtaW46IG51bWJlcjtcbiAgbWF4OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBJQW5zd2VyU2VydmVyIHtcbiAgcHJvZHVjdHM6IElQcm9kdWN0W107XG59XG5cbmV4cG9ydCBjb25zdCBnZXREYXRhID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGFuc3dlciA9IGF3YWl0IGZldGNoKCdodHRwczovL2R1bW15anNvbi5jb20vcHJvZHVjdHM/bGltaXQ9MTAwJyk7XG4gICAgY29uc3QgZGF0YTogSUFuc3dlclNlcnZlciA9IGF3YWl0IGFuc3dlci5qc29uKCk7XG4gICAgcmV0dXJuIGRhdGEucHJvZHVjdHM7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xuICB9XG59O1xuXG5leHBvcnQgY2xhc3MgU2hvcERhdGEge1xuXG4gIHB1YmxpYyBmaWx0ZXJzOiB7XG4gICAgY2F0ZWdvcnk6IElDb2xsZWN0aW9uV2l0aENvdW50O1xuICAgIGJyYW5kOiBJQ29sbGVjdGlvbldpdGhDb3VudDtcbiAgfSA9IHtcbiAgICBjYXRlZ29yeToge30sXG4gICAgYnJhbmQ6IHt9XG4gIH07XG5cbiAgcHJpY2VSYW5nZSE6IElNaW5NYXhPYmo7XG5cbiAgcHVibGljIGFjdGl2ZUZpbHRlcnM6IHtcbiAgICBjYXRlZ29yeTogc3RyaW5nW107XG4gICAgYnJhbmQ6IHN0cmluZ1tdO1xuICAgIG1heFByaWNlOiBudW1iZXI7XG4gICAgc2VhcmNoOnN0cmluZztcbiAgfSA9IHtcbiAgICBjYXRlZ29yeTogW10sXG4gICAgYnJhbmQ6IFtdLFxuICAgIG1heFByaWNlOiAwLFxuICAgIHNlYXJjaDonJyxcbiAgfTtcbiAgXG5cbiAgZmlsdGVyZWRMaXN0OiBJUHJvZHVjdFtdO1xuICBmaWx0ZXJlZENhdGVnb3JpZXM6IElDb2xsZWN0aW9uV2l0aENvdW50ID0ge307XG4gIGZpbHRlcmVkQnJhbmRzOiBJQ29sbGVjdGlvbldpdGhDb3VudCA9IHt9O1xuXG4gIGNvbnN0cnVjdG9yKHB1YmxpYyBsaXN0OiBJUHJvZHVjdFtdIHwgdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5maWx0ZXJlZExpc3QgPSBBcnJheS5mcm9tKHRoaXMubGlzdCEpO1xuXG4gICAgaWYgKGxpc3QpIHtcbiAgICAgIHRoaXMuZmlsdGVycy5icmFuZCA9IHRoaXMuX2dldFF1YW50aXR5QnJhbmRzKCk7XG4gICAgICB0aGlzLmZpbHRlcnMuY2F0ZWdvcnkgPSB0aGlzLl9nZXRRdWFudGl0eUNhdGVnb3JpZXMoKTtcbiAgICAgIHRoaXMucHJpY2VSYW5nZSA9IHRoaXMuX2dldFByaWNlUmFuZ2UoKSE7XG4gICAgICB0aGlzLmFjdGl2ZUZpbHRlcnMubWF4UHJpY2UgPSB0aGlzLnByaWNlUmFuZ2UubWF4O1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhZGRBY3RpdmVGaWx0ZXIoc3RyaW5nOiBzdHJpbmcpIHtcbiAgICBjb25zdCBbZmlsdGVyVHlwZSwgdmFsdWVdID0gc3RyaW5nLnNwbGl0KCdfJyk7XG5cbiAgICBpZiAoKGZpbHRlclR5cGUgPT09ICdicmFuZCcgfHwgZmlsdGVyVHlwZSA9PT0gJ2NhdGVnb3J5JykgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5hY3RpdmVGaWx0ZXJzW2ZpbHRlclR5cGVdLnB1c2godmFsdWUpO1xuICAgIH1cblxuICAgIGlmIChmaWx0ZXJUeXBlID09PSAnbWF4UHJpY2UnICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHRoaXMuYWN0aXZlRmlsdGVyc1tmaWx0ZXJUeXBlXSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZW1vdmVFbGVtZW50RnJvbUFjdGl2ZUZpbHRlcihzdHJpbmc6IHN0cmluZykge1xuICAgIGNvbnN0IFtmaWx0ZXJUeXBlLCB2YWx1ZV0gPSBzdHJpbmcuc3BsaXQoJ18nKTtcblxuICAgIGlmICgoZmlsdGVyVHlwZSA9PT0gJ2JyYW5kJyB8fCBmaWx0ZXJUeXBlID09PSAnY2F0ZWdvcnknKSAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICBjb25zdCBhcnIgPSB0aGlzLmFjdGl2ZUZpbHRlcnNbZmlsdGVyVHlwZV07XG4gICAgICBhcnIuc3BsaWNlKFxuICAgICAgICBhcnIuZmluZEluZGV4KChmaWx0ZXIpID0+IGZpbHRlciA9PT0gdmFsdWUpLFxuICAgICAgICAxXG4gICAgICApO1xuICAgICAgdGhpcy5hY3RpdmVGaWx0ZXJzW2ZpbHRlclR5cGVdID0gYXJyO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRGZWF0dXJlZEl0ZW1zID0gKCk9PntcbiAgICBjb25zdCBmZWF0dXJlZEFyciA9IFtdXG4gICAgY29uc3QgZ2V0UmFuZG9tRWxlbWVudCA9ICgpPT57XG4gICAgICBjb25zdCBsZW5ndGggPSB0aGlzLmxpc3QhLmxlbmd0aFxuICAgICAgY29uc3QgcmFuZG9tSU5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqbGVuZ3RoKVxuICAgICAgcmV0dXJuIHRoaXMubGlzdCFbcmFuZG9tSU5kZXhdXG4gICAgfVxuICAgIGZlYXR1cmVkQXJyLnB1c2goZ2V0UmFuZG9tRWxlbWVudCgpKSBcbiAgICBmZWF0dXJlZEFyci5wdXNoKGdldFJhbmRvbUVsZW1lbnQoKSkgXG4gICAgZmVhdHVyZWRBcnIucHVzaChnZXRSYW5kb21FbGVtZW50KCkpIFxuICAgIHJldHVybiBmZWF0dXJlZEFyclxuICB9XG5cbiAgcHJpdmF0ZSBfZ2V0UXVhbnRpdHlCcmFuZHMgPSAoKSA9PlxuICAgIGNvdW50UXVhbnRpdGllc1VuaXFFbnRyaWVzKHRoaXMubGlzdCEubWFwKChwcm9kdWN0KSA9PiBwcm9kdWN0LmJyYW5kKSEpO1xuXG4gIHByaXZhdGUgX2dldFF1YW50aXR5Q2F0ZWdvcmllcyA9ICgpID0+XG4gICAgY291bnRRdWFudGl0aWVzVW5pcUVudHJpZXModGhpcy5saXN0IS5tYXAoKHByb2R1Y3QpID0+IHByb2R1Y3QuY2F0ZWdvcnkpISk7XG5cbiAgcHJpdmF0ZSBfZ2V0UHJpY2VSYW5nZSA9ICgpID0+IHtcbiAgICBjb25zdCBwcmljZXMgPSB0aGlzLmxpc3Q/Lm1hcCgocHJvZHVjdCkgPT4gcHJvZHVjdC5wcmljZSk7XG4gICAgaWYgKHByaWNlcykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWluOiBNYXRoLm1pbiguLi5wcmljZXMpLFxuICAgICAgICBtYXg6IE1hdGgubWF4KC4uLnByaWNlcylcbiAgICAgIH07XG4gICAgfVxuICB9O1xuICBwcml2YXRlIF9kZWVwQ2xvbmVBcnJheTxUPihhcnI6IFQpOiBUIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhcnIpKTtcbiAgfVxuICBwcml2YXRlIF9jbG9uZUFycmF5PFQ+KGFycjogVFtdKTogVFtdIHtcbiAgICByZXR1cm4gWy4uLmFycl07XG4gIH1cblxuICBwcml2YXRlIF9maWx0ZXJCeU1heFByaWNlID0gKGFycjogSVByb2R1Y3RbXSkgPT4ge1xuICAgIGNvbnN0IGJ1ZmZlckFyciA9IHRoaXMuX2Nsb25lQXJyYXkoYXJyKTtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5idWZmZXJBcnJdIS5maWx0ZXIoKGVsZW0pID0+IGVsZW0ucHJpY2UgPD0gdGhpcy5hY3RpdmVGaWx0ZXJzLm1heFByaWNlKTtcbiAgICByZXR1cm4gZmlsdGVyZWQ7XG4gIH07XG5cbiAgcHJpdmF0ZSBfZmlsdGVyQnlTZWFyY2hWYWx1ZSA9IChhcnI6IElQcm9kdWN0W10pID0+IHtcbiAgICBjb25zdCBidWZmZXJBcnIgPSB0aGlzLl9jbG9uZUFycmF5KGFycik7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBbLi4uYnVmZmVyQXJyXS5maWx0ZXIoKGVsZW0pID0+IGVsZW0udGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0aGlzLmFjdGl2ZUZpbHRlcnMuc2VhcmNoLnRvTG93ZXJDYXNlKCkpKTtcbiAgICByZXR1cm4gZmlsdGVyZWQ7XG4gIH07XG5cbiAgcHJpdmF0ZSBfZmlsdGVyQnlCcmFuZHMgPSAoYXJyOiBJUHJvZHVjdFtdKSA9PiB7XG4gICAgaWYgKHRoaXMuYWN0aXZlRmlsdGVycy5icmFuZC5sZW5ndGggIT09IDApIHtcbiAgICAgIGNvbnN0IGJ1ZmZlckFyciA9IHRoaXMuX2Nsb25lQXJyYXkoYXJyKTtcbiAgICAgIGNvbnN0IHJldHVybkFycjpJUHJvZHVjdFtdPVtdXG5cbiAgICAgIHRoaXMuYWN0aXZlRmlsdGVycy5icmFuZC5mb3JFYWNoKChmaWx0ZXJWYWx1ZSkgPT4ge1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IFsuLi5idWZmZXJBcnJdLmZpbHRlcigoZWxlbSkgPT4gZWxlbS5icmFuZCA9PT0gZmlsdGVyVmFsdWUpO1xuICAgICAgICByZXR1cm5BcnIucHVzaCguLi5maWx0ZXJlZCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXR1cm5BcnI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhcnI7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgX2ZpbHRlckJ5Q2F0ZWdvcmllcyA9IChhcnI6IElQcm9kdWN0W10pID0+IHtcbiAgICBpZiAodGhpcy5hY3RpdmVGaWx0ZXJzLmNhdGVnb3J5Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgY29uc3QgYnVmZmVyQXJyID0gdGhpcy5fY2xvbmVBcnJheShhcnIpO1xuICAgICAgY29uc3QgcmV0dXJuQXJyOklQcm9kdWN0W109W11cblxuICAgICAgdGhpcy5hY3RpdmVGaWx0ZXJzLmNhdGVnb3J5LmZvckVhY2goKGZpbHRlclZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkID0gWy4uLmJ1ZmZlckFycl0uZmlsdGVyKChlbGVtKSA9PiBlbGVtLmNhdGVnb3J5ID09PSBmaWx0ZXJWYWx1ZSk7XG4gICAgICAgIHJldHVybkFyci5wdXNoKC4uLmZpbHRlcmVkKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJldHVybkFycjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX2Nsb25lQXJyYXkoYXJyKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBfZ2V0RmlsdGVyZWRDYXRlZ29yaWVzID0gKCkgPT4ge1xuICAgIGxldCBhcnIgPSB0aGlzLl9jbG9uZUFycmF5KHRoaXMubGlzdCEpO1xuICAgIGFyciA9IHRoaXMuX2Nsb25lQXJyYXkodGhpcy5fZmlsdGVyQnlTZWFyY2hWYWx1ZShhcnIpKVxuICAgIGFyciA9IHRoaXMuX2Nsb25lQXJyYXkodGhpcy5fZmlsdGVyQnlNYXhQcmljZShhcnIpKTtcbiAgICBhcnIgPSB0aGlzLl9jbG9uZUFycmF5KHRoaXMuX2ZpbHRlckJ5QnJhbmRzKGFycikpO1xuICAgIHRoaXMuZmlsdGVyZWRDYXRlZ29yaWVzID0gY291bnRRdWFudGl0aWVzVW5pcUVudHJpZXMoYXJyLm1hcCgocHJvZHVjdCkgPT4gcHJvZHVjdC5jYXRlZ29yeSkpO1xuICB9O1xuXG4gIHByaXZhdGUgX2dldEZpbHRlcmVkQnJhbmRzID0gKCkgPT4ge1xuICAgIGxldCBhcnIgPSB0aGlzLl9jbG9uZUFycmF5KHRoaXMubGlzdCEpO1xuICAgIGFyciA9IHRoaXMuX2Nsb25lQXJyYXkodGhpcy5fZmlsdGVyQnlTZWFyY2hWYWx1ZShhcnIpKVxuICAgIGFyciA9IHRoaXMuX2Nsb25lQXJyYXkodGhpcy5fZmlsdGVyQnlDYXRlZ29yaWVzKGFycikpO1xuICAgIGFyciA9IHRoaXMuX2Nsb25lQXJyYXkodGhpcy5fZmlsdGVyQnlNYXhQcmljZShhcnIpKTtcbiAgICB0aGlzLmZpbHRlcmVkQnJhbmRzID0gY291bnRRdWFudGl0aWVzVW5pcUVudHJpZXMoYXJyLm1hcCgocHJvZHVjdCkgPT4gcHJvZHVjdC5icmFuZCkpO1xuICB9O1xuXG4gIHB1YmxpYyBmaWx0ZXJMaXN0ID0gKCkgPT4ge1xuICAgIHRoaXMuZmlsdGVyZWRMaXN0ID0gWy4uLnRoaXMubGlzdCFdO1xuICAgIHRoaXMuZmlsdGVyZWRMaXN0ID0gdGhpcy5fZmlsdGVyQnlNYXhQcmljZSh0aGlzLmZpbHRlcmVkTGlzdCk7XG4gICAgdGhpcy5maWx0ZXJlZExpc3Q9dGhpcy5fZmlsdGVyQnlTZWFyY2hWYWx1ZSh0aGlzLmZpbHRlcmVkTGlzdClcbiAgICB0aGlzLmZpbHRlcmVkTGlzdCA9IFsuLi50aGlzLl9maWx0ZXJCeUJyYW5kcyh0aGlzLmZpbHRlcmVkTGlzdCldO1xuICAgIHRoaXMuZmlsdGVyZWRMaXN0ID0gWy4uLnRoaXMuX2ZpbHRlckJ5Q2F0ZWdvcmllcyh0aGlzLmZpbHRlcmVkTGlzdCldO1xuICAgIHRoaXMuX2dldEZpbHRlcmVkQ2F0ZWdvcmllcygpO1xuICAgIHRoaXMuX2dldEZpbHRlcmVkQnJhbmRzKCk7XG4gIH07XG5cbiAgcHVibGljIGdldEl0ZW1CeUlkID0gKHNlYXJjaGluZ0lkOiBudW1iZXIpOiBJQ2FydEl0ZW1TdG9yZWQgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGlkLFxuICAgICAgdGl0bGUsXG4gICAgICBwcmljZSxcbiAgICAgIGltYWdlczogW2ltYWdlXVxuICAgIH0gPSB0aGlzLmZpbHRlcmVkTGlzdC5maW5kKChpdGVtKSA9PiBpdGVtLmlkID09PSBzZWFyY2hpbmdJZCkhO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogaWQsXG4gICAgICB0aXRsZTogdGl0bGUsXG4gICAgICBwcmljZTogcHJpY2UsXG4gICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICBxdWFudGl0eTogMVxuICAgIH07XG4gIH07XG59XG4iLCJpbXBvcnQgeyBJQ29sbGVjdGlvbldpdGhDb3VudCB9IGZyb20gJy4vY291bnRRdWFudGl0aWVzVW5pcUVudHJpZXMnO1xuaW1wb3J0IHsgSVByb2R1Y3QsIElNaW5NYXhPYmosIFNob3BEYXRhIH0gZnJvbSAnLi9nZXRTaG9wRGF0YSc7XG5pbXBvcnQgeyBJQ2FydEl0ZW1TdG9yZWQgfSBmcm9tICcuL3Nob3BwaW5nQ2FydCc7XG5cbmV4cG9ydCBjbGFzcyBSZW5kZXIge1xuICByZW5kZXJTaWRlQmFyITpSZW5kZXJTaWRlQmFyXG4gIFxuICBjb25zdHJ1Y3Rvcigpe1xuICAgIGlmIChkb2N1bWVudC50aXRsZT09PSdQcm9kdWN0cycpIHtcbiAgICB0aGlzLnJlbmRlclNpZGVCYXIgPSBuZXcgUmVuZGVyU2lkZUJhcigpICBcbiAgICB9XG4gIH1cblxuICByZW5kZXJTaG9wcGluZ0NhcnRJdGVtID0gKGl0ZW06IElDYXJ0SXRlbVN0b3JlZCkgPT4ge1xuICAgIGNvbnN0IHsgdGl0bGUsIHByaWNlLCBpbWFnZSwgcXVhbnRpdHksIGlkIH0gPSBpdGVtO1xuICAgIHJldHVybiBgXG4gICAgPGxpIGNsYXNzPVwic2hvcHBpbmctY2FydF9faXRlbSBzaG9wcGluZy1pdGVtX2NhcnRcIiBkYXRhLWlkPVwiJHtpZH1cIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJzaG9wcGluZy1pdGVtX19pbWctYmFja2dyb3VuZFwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2ltYWdlfScpO1wiPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cInNob3BwaW5nLWl0ZW1fX2luZm8tY2FydFwiPlxuICAgICAgICA8aDMgY2xhc3M9XCJzaG9wcGluZy1pdGVtX19uYW1lX2NhcnRcIj4ke3RpdGxlfTwvaDM+XG4gICAgICAgIDxkYXRhIGNsYXNzPVwic2hvcHBpbmctaXRlbV9fcHJpY2UtdmFsdWVfY2FydFwiIHZhbHVlPVwiJHtwcmljZX1cIj4kJHtwcmljZX08L2RhdGE+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaG9wcGluZy1pdGVtX19idG5fcmVtb3ZlXCI+cmVtb3ZlPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJzaG9wcGluZy1pdGVtX19xdWFudGl0eVwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2hvcHBpbmctaXRlbV9fYnRuX2FkZC1pdGVtXCI+XG4gICAgICAgICAgPHN2ZyBzdHlsZT1cIndpZHRoOiAyNHB4OyBoZWlnaHQ6IDI0cHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgICAgZD1cIk03LjQxLDE1LjQxTDEyLDEwLjgzTDE2LjU5LDE1LjQxTDE4LDE0TDEyLDhMNiwxNEw3LjQxLDE1LjQxWlwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInNob3BwaW5nLWl0ZW1fX3F1YW50aXR5LWRpc3BsYXlcIj4ke3F1YW50aXR5fTwvZGl2PlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2hvcHBpbmctaXRlbV9fYnRuX3JlZHVjZS1pdGVtXCI+XG4gICAgICAgICAgPHN2ZyBzdHlsZT1cIndpZHRoOiAyNHB4OyBoZWlnaHQ6IDI0cHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aFxuICAgICAgICAgICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgICAgICAgZD1cIk03LjQxLDguNThMMTIsMTMuMTdMMTYuNTksOC41OEwxOCwxMEwxMiwxNkw2LDEwTDcuNDEsOC41OFpcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2xpPlxuICAgIGA7XG4gIH07XG5cbiAgcmVuZGVyRmVhdHVyZWRMaXN0ID0gKGZlYXR1cmVkQXJyYXk6IElQcm9kdWN0W10pPT57XG5cbiAgICBpZiAoZG9jdW1lbnQudGl0bGU9PT0nU2hvcCcpIHtcbiAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyX19mZWF0dXJlZC1saXN0JykhXG4gICAgICBsaXN0LmlubmVySFRNTCA9ICcnO1xuICAgICAgZmVhdHVyZWRBcnJheS5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgdGl0bGUsIHByaWNlLCBpbWFnZXMsIGlkIH0gPSBlbGVtO1xuICAgICAgICBsaXN0Lmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICAgICAnYmVmb3JlZW5kJyxcbiAgICAgICAgICBgXG4gICAgICAgIDxsaSBjbGFzcz1cInByb2R1Y3RzX19pdGVtIHNob3BwaW5nLWl0ZW1cIiBkYXRhLWlkPVwiJHtpZH1cIj5cbiAgICAgICAgICA8aW1nIHNyYz1cIiR7aW1hZ2VzWzBdfVwiIGFsdD1cIlwiIGNsYXNzPVwic2hvcHBpbmctaXRlbV9faW1nXCI+XG4gICAgICAgICAgPGgzIGNsYXNzPVwic2hvcHBpbmctaXRlbV9fbmFtZVwiPiR7dGl0bGV9PC9oMz5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2hvcHBpbmctaXRlbV9fcHJpY2UtYW5kLWNhcnRcIj5cbiAgICAgICAgICAgIDxkYXRhIGNsYXNzPVwic2hvcHBpbmctaXRlbV9fcHJpY2UtdmFsdWVcIiB2YWx1ZT1cIiR7cHJpY2V9XCI+JCR7cHJpY2V9PC9kYXRhPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cInNob3BwaW5nLWl0ZW1fX2J0bi1jYXJ0X19pbWdcIiBzdHlsZT1cIndpZHRoOiAyNHB4OyBoZWlnaHQ6IDI0cHhcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTE3LDE4QTIsMiAwIDAsMSAxOSwyMEEyLDIgMCAwLDEgMTcsMjJDMTUuODksMjIgMTUsMjEuMSAxNSwyMEMxNSwxOC44OSAxNS44OSwxOCAxNywxOE0xLDJINC4yN0w1LjIxLDRIMjBBMSwxIDAgMCwxIDIxLDVDMjEsNS4xNyAyMC45NSw1LjM0IDIwLjg4LDUuNUwxNy4zLDExLjk3QzE2Ljk2LDEyLjU4IDE2LjMsMTMgMTUuNTUsMTNIOC4xTDcuMiwxNC42M0w3LjE3LDE0Ljc1QTAuMjUsMC4yNSAwIDAsMCA3LjQyLDE1SDE5VjE3SDdDNS44OSwxNyA1LDE2LjEgNSwxNUM1LDE0LjY1IDUuMDksMTQuMzIgNS4yNCwxNC4wNEw2LjYsMTEuNTlMMyw0SDFWMk03LDE4QTIsMiAwIDAsMSA5LDIwQTIsMiAwIDAsMSA3LDIyQzUuODksMjIgNSwyMS4xIDUsMjBDNSwxOC44OSA1Ljg5LDE4IDcsMThNMTYsMTFMMTguNzgsNkg2LjE0TDguNSwxMUgxNlpcIiAvPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbGk+XG4gICAgICBgKTtcbiAgICAgIH0pO1xuICB9XG4gIH1cblxuICByZW5kZXJIdG1sUHJvZHVjdHNMaXN0ID0gKHByb2R1Y3RBcnJheTogSVByb2R1Y3RbXSkgPT4ge1xuICAgIGlmIChkb2N1bWVudC50aXRsZT09PSdQcm9kdWN0cycpIHtcbiAgICAgIGNvbnN0IGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZHVjdHMnKSFcbiAgICAgIGxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgICBwcm9kdWN0QXJyYXkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBjb25zdCB7IHRpdGxlLCBwcmljZSwgaW1hZ2VzLCBpZCB9ID0gZWxlbTtcbiAgICAgICAgbGlzdC5pbnNlcnRBZGphY2VudEhUTUwoXG4gICAgICAgICAgJ2JlZm9yZWVuZCcsXG4gICAgICAgICAgYFxuICAgICAgICA8bGkgY2xhc3M9XCJwcm9kdWN0c19faXRlbSBzaG9wcGluZy1pdGVtXCIgZGF0YS1pZD1cIiR7aWR9XCI+XG4gICAgICAgICAgPGltZyBzcmM9XCIke2ltYWdlc1swXX1cIiBhbHQ9XCJcIiBjbGFzcz1cInNob3BwaW5nLWl0ZW1fX2ltZ1wiPlxuICAgICAgICAgIDxoMyBjbGFzcz1cInNob3BwaW5nLWl0ZW1fX25hbWVcIj4ke3RpdGxlfTwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNob3BwaW5nLWl0ZW1fX3ByaWNlLWFuZC1jYXJ0XCI+XG4gICAgICAgICAgICA8ZGF0YSBjbGFzcz1cInNob3BwaW5nLWl0ZW1fX3ByaWNlLXZhbHVlXCIgdmFsdWU9XCIke3ByaWNlfVwiPiQke3ByaWNlfTwvZGF0YT5cbiAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJzaG9wcGluZy1pdGVtX19idG4tY2FydF9faW1nXCIgc3R5bGU9XCJ3aWR0aDogMjRweDsgaGVpZ2h0OiAyNHB4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk0xNywxOEEyLDIgMCAwLDEgMTksMjBBMiwyIDAgMCwxIDE3LDIyQzE1Ljg5LDIyIDE1LDIxLjEgMTUsMjBDMTUsMTguODkgMTUuODksMTggMTcsMThNMSwySDQuMjdMNS4yMSw0SDIwQTEsMSAwIDAsMSAyMSw1QzIxLDUuMTcgMjAuOTUsNS4zNCAyMC44OCw1LjVMMTcuMywxMS45N0MxNi45NiwxMi41OCAxNi4zLDEzIDE1LjU1LDEzSDguMUw3LjIsMTQuNjNMNy4xNywxNC43NUEwLjI1LDAuMjUgMCAwLDAgNy40MiwxNUgxOVYxN0g3QzUuODksMTcgNSwxNi4xIDUsMTVDNSwxNC42NSA1LjA5LDE0LjMyIDUuMjQsMTQuMDRMNi42LDExLjU5TDMsNEgxVjJNNywxOEEyLDIgMCAwLDEgOSwyMEEyLDIgMCAwLDEgNywyMkM1Ljg5LDIyIDUsMjEuMSA1LDIwQzUsMTguODkgNS44OSwxOCA3LDE4TTE2LDExTDE4Ljc4LDZINi4xNEw4LjUsMTFIMTZaXCIgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2xpPlxuICAgICAgYCk7XG4gICAgICB9KTtcbiAgfVxuICB9O1xuXG4gIHJlbmRlclRlbXBsYXRlU2hvcHBpbmdDYXJ0ID0gKCk9PntcbiAgICBkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYFxuICAgIDxkaXYgY2xhc3M9XCJzaG9wcGluZy1jYXJ0X193cmFwcGVyIGhpZGRlblwiPlxuICAgICAgPHNlY3Rpb24gY2xhc3M9XCJzaG9wcGluZy1jYXJ0XCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaG9wcGluZy1jYXJ0X19idG5fZXhpdFwiPlxuICAgICAgICAgIDxzdmcgc3R5bGU9XCJ3aWR0aDogMjRweDsgaGVpZ2h0OiAyNHB4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgIGQ9XCJNMTksNi40MUwxNy41OSw1TDEyLDEwLjU5TDYuNDEsNUw1LDYuNDFMMTAuNTksMTJMNSwxNy41OUw2LjQxLDE5TDEyLDEzLjQxTDE3LjU5LDE5TDE5LDE3LjU5TDEzLjQxLDEyTDE5LDYuNDFaXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8aDMgY2xhc3M9XCJzaG9wcGluZy1jYXJ0X190aXRsZVwiPllvdXIgQmFnPC9oMz5cbiAgICAgICAgPHVsIGNsYXNzPVwic2hvcHBpbmctY2FydF9fbGlzdFwiPlxuICAgICAgICA8L3VsPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2hvcHBpbmctY2FydF9fYnRuLXJlbW92ZS1hbGxcIj54IHJlbW92ZSBhbGw8L2J1dHRvbj5cbiAgICAgICAgPHAgY2xhc3M9XCJzaG9wcGluZy1jYXJ0X190b3RhbFwiPlxuICAgICAgICAgIFRvdGFsIDpcbiAgICAgICAgICA8ZGF0YSBjbGFzcz1cInNob3BwaW5nLWNhcnRfX3RvdGFsX2Ftb3VudFwiPjwvZGF0YT5cbiAgICAgICAgPC9wPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2hvcHBpbmctY2FydF9fYnRuX2NoZWNrb3V0XCI+Y2hlY2tvdXQ8L2J1dHRvbj5cbiAgICAgIDwvc2VjdGlvbj5cbiAgICA8L2Rpdj5cbiAgICBgKVxuICB9XG59XG5cblxuY2xhc3MgUmVuZGVyU2lkZUJhcntcbiAgc2lkZWJhcjogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNpZGViYXInKSE7XG4gIH1cblxuICBwcml2YXRlIF9yZW5kZXJTZWFyY2ggPSAoKSA9PiB7XG4gICAgdGhpcy5zaWRlYmFyLmluc2VydEFkamFjZW50SFRNTChcbiAgICAnYWZ0ZXJiZWdpbicsIGBcbiAgICAgIDxpbnB1dCBjbGFzcz1cInNpZGViYXJfX3NlYXJjaFwiIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNlYXJjaFwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoLi4uXCIgLz5cbiAgICBgXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIF9yZW5kZXJGaWx0ZXJDYXRlZ29yeSA9IChcbiAgICBmaWx0ZXJDYXRlZ29yeU5hbWU6IHN0cmluZyxcbiAgICBmaWx0ZXJDYXRlZ29yeUVudHJpZXM6IElDb2xsZWN0aW9uV2l0aENvdW50XG4gICkgPT4ge1xuICAgIHRoaXMuc2lkZWJhci5pbnNlcnRBZGphY2VudEhUTUwoXG4gICAgICAnYmVmb3JlZW5kJyxcbiAgICAgIGBcbiAgICAgIDxoMyBjbGFzcz1cInNpZGViYXJfX3RpdGxlXCI+JHtmaWx0ZXJDYXRlZ29yeU5hbWV9PC9oMz5cbiAgICAgIDx1bCBjbGFzcz1cInNpZGViYXJfX2ZpbHRlci1saXN0XCIgaWQ9XCJjYXRlZ29yaWVzTGlzdCR7ZmlsdGVyQ2F0ZWdvcnlOYW1lfVwiPlxuICAgICAgICA8bGkgY2xhc3M9XCJzaWRlYmFyX19maWx0ZXItaXRlbSBzaWRlYmFyX19maXJzdC1saXN0LWl0ZW1cIiBkYXRhLWZpbHRlcj1cIiR7ZmlsdGVyQ2F0ZWdvcnlOYW1lfV9hbGxcIj5BbGw8L2xpPlxuICAgICAgPC91bD5cbiAgICAgIGBcbiAgICApO1xuXG4gICAgY29uc3QgbGlzdEZpbHRlciA9IHRoaXMuc2lkZWJhci5xdWVyeVNlbGVjdG9yKGAjY2F0ZWdvcmllc0xpc3Qke2ZpbHRlckNhdGVnb3J5TmFtZX1gKTtcblxuICAgIE9iamVjdC5lbnRyaWVzKGZpbHRlckNhdGVnb3J5RW50cmllcykuZm9yRWFjaCgoW3ZhbHVlLCBxdWFudGl0eV0pID0+IHtcbiAgICAgIGxpc3RGaWx0ZXI/Lmluc2VydEFkamFjZW50SFRNTChcbiAgICAgICAgJ2JlZm9yZWVuZCcsXG4gICAgICAgIGBcbiAgICAgIDxsaSBjbGFzcz1cInNpZGViYXJfX2ZpbHRlci1pdGVtXCIgZGF0YS1maWx0ZXI9XCIke2ZpbHRlckNhdGVnb3J5TmFtZX1fJHt2YWx1ZX1cIj4ke3ZhbHVlfSBcbiAgICAgICAgPGRpdiBjbGFzcz1cInNpZGViYXJfX2VsZW0tY291bnRlclwiPiR7cXVhbnRpdHl9PC9kaXY+XG4gICAgICA8L2xpPmBcbiAgICAgICk7XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBfcmVuZGVyUHJpY2VSYW5nZSA9IChhcnI6IElNaW5NYXhPYmopID0+IHtcbiAgICB0aGlzLnNpZGViYXIuaW5zZXJ0QWRqYWNlbnRIVE1MKFxuICAgICAgJ2JlZm9yZWVuZCcsXG4gICAgICBgXG4gICAgICA8aDMgY2xhc3M9XCJzaWRlYmFyX190aXRsZVwiPlByaWNlPC9oMz5cbiAgICAgIDxpbnB1dCBjbGFzcz1cInNpZGViYXJfX3ByaWNlLXJhbmdlXCIgdHlwZT1cInJhbmdlXCIgbmFtZT1cInByaWNlLXJhbmdlXCIgbWF4PVwiJHthcnIubWF4fVwiIG1pbj1cIiR7YXJyLm1pbn1cIiB2YWx1ZT1cIiR7YXJyLm1heH1cIi8+XG4gICAgICA8ZGF0YSBjbGFzcz1cInNpZGViYXJfX2ZpbHRlci1tYXgtcHJpY2VcIj5NYXggcHJpY2U6ICQke2Fyci5tYXh9PC9kYXRhPlxuICAgICAgYFxuICAgICk7XG4gICAgY29uc3QgcHJpY2VSYW5nZUlOcHV0OiBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbCA9XG4gICAgICB0aGlzLnNpZGViYXIucXVlcnlTZWxlY3RvcignLnNpZGViYXJfX3ByaWNlLXJhbmdlJyk7XG4gICAgY29uc3QgcHJpY2VSYW5nZURhdGEgPSB0aGlzLnNpZGViYXIucXVlcnlTZWxlY3RvcignLnNpZGViYXJfX2ZpbHRlci1tYXgtcHJpY2UnKSE7XG5cbiAgICBwcmljZVJhbmdlSU5wdXQ/LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsICgpID0+IHtcbiAgICAgIHByaWNlUmFuZ2VEYXRhLnRleHRDb250ZW50ID0gYE1heCBwcmljZTogJCR7cHJpY2VSYW5nZUlOcHV0LnZhbHVlfSBgO1xuICAgIH0pO1xuICB9O1xuXG4gIHJlbmRlclNpZGVCYXIgPSAoZGF0YTogU2hvcERhdGEpID0+IHtcbiAgICB0aGlzLl9yZW5kZXJTZWFyY2goKTtcblxuICAgIE9iamVjdC5lbnRyaWVzKGRhdGEuZmlsdGVycykuZm9yRWFjaCgoZmlsdGVyKSA9PiB7XG4gICAgICBjb25zdCBbZmlsdGVyVHlwZSwgZmlsdGVyVmFsdWVdID0gZmlsdGVyO1xuICAgICAgdGhpcy5fcmVuZGVyRmlsdGVyQ2F0ZWdvcnkoZmlsdGVyVHlwZSwgZmlsdGVyVmFsdWUpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcmVuZGVyUHJpY2VSYW5nZShkYXRhLnByaWNlUmFuZ2UpO1xuICB9O1xuXG4gIHJlUmVuZGVyQ291bnRlcnNRdWFudGl0aWVzID0gKGJyYW5kczogSUNvbGxlY3Rpb25XaXRoQ291bnQsIGNhdGVnb3JpZXM6IElDb2xsZWN0aW9uV2l0aENvdW50KSA9PiB7XG4gICAgY29uc3Qgbm9kZUxpc3RPZkNvdW50ZXJzID0gdGhpcy5zaWRlYmFyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zaWRlYmFyX19lbGVtLWNvdW50ZXInKTtcbiAgICBub2RlTGlzdE9mQ291bnRlcnMuZm9yRWFjaCgoY291bnRlcikgPT4ge1xuICAgICAgY29uc3QgW2ZpbHRlclR5cGUsIGZpbHRlclZhbHVlXSA9IGNvdW50ZXIucGFyZW50RWxlbWVudCEuZGF0YXNldC5maWx0ZXIhLnNwbGl0KCdfJykhO1xuICAgICAgaWYgKGZpbHRlclR5cGUgPT09ICdjYXRlZ29yeScpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyVHlwZUFuZENvdW50ID0gT2JqZWN0LmVudHJpZXMoY2F0ZWdvcmllcykuZmluZChcbiAgICAgICAgICAoY2F0ZWdvcnkpID0+IGNhdGVnb3J5WzBdID09PSBmaWx0ZXJWYWx1ZVxuICAgICAgICApO1xuICAgICAgICBpZiAoZmlsdGVyVHlwZUFuZENvdW50KSB7XG4gICAgICAgICAgY291bnRlci50ZXh0Q29udGVudCA9IGZpbHRlclR5cGVBbmRDb3VudFsxXS50b1N0cmluZygpO1xuICAgICAgICAgIGNvdW50ZXIucGFyZW50RWxlbWVudCEuY2xhc3NMaXN0LnJlbW92ZSgnZGVhY3RpdmF0ZWQnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb3VudGVyLnRleHRDb250ZW50ID0gJzAnO1xuICAgICAgICAgIGNvdW50ZXIucGFyZW50RWxlbWVudCEuY2xhc3NMaXN0LmFkZCgnZGVhY3RpdmF0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGZpbHRlclR5cGUgPT09ICdicmFuZCcpIHtcbiAgICAgICAgY29uc3QgZmlsdGVyVHlwZUFuZENvdW50ID0gT2JqZWN0LmVudHJpZXMoYnJhbmRzKS5maW5kKChicmFuZCkgPT4gYnJhbmRbMF0gPT09IGZpbHRlclZhbHVlKTtcbiAgICAgICAgaWYgKGZpbHRlclR5cGVBbmRDb3VudCkge1xuICAgICAgICAgIGNvdW50ZXIudGV4dENvbnRlbnQgPSBmaWx0ZXJUeXBlQW5kQ291bnRbMV0udG9TdHJpbmcoKTtcbiAgICAgICAgICBjb3VudGVyLnBhcmVudEVsZW1lbnQhLmNsYXNzTGlzdC5yZW1vdmUoJ2RlYWN0aXZhdGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY291bnRlci50ZXh0Q29udGVudCA9ICcwJztcbiAgICAgICAgICBjb3VudGVyLnBhcmVudEVsZW1lbnQhLmNsYXNzTGlzdC5hZGQoJ2RlYWN0aXZhdGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuZXhwb3J0IGNvbnN0IHJlbmRlckZuID0gbmV3IFJlbmRlcigpXG4iLCJpbXBvcnQgeyBJQ2FydEl0ZW1TdG9yZWQgfSBmcm9tIFwiLi9zaG9wcGluZ0NhcnRcIjtcblxuY2xhc3MgU2F2ZUxvY2FsU3RvcmFnZSB7XG4gIHNhdmVDYXJ0SXRlbXMgPSAoZGF0YTpJQ2FydEl0ZW1TdG9yZWRbXSk9PntcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnQnLEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICB9XG4gIHJlc3RvcmVDYXJ0SXRlbXMgPSAoKT0+SlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSEpXG59XG5cbmV4cG9ydCBjb25zdCBtZW1vcnlGbiA9IG5ldyBTYXZlTG9jYWxTdG9yYWdlKCkiLCJpbXBvcnQgeyByZW5kZXJGbiB9IGZyb20gXCIuL3JlbmRlclwiO1xuaW1wb3J0IHsgbWVtb3J5Rm4gfSBmcm9tIFwiLi9zYXZlQW5kUmVzdG9yZUxvY2FsU3RvcmFnZVwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElDYXJ0SXRlbVN0b3JlZCB7XG4gIGlkOiBudW1iZXI7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHByaWNlOiBudW1iZXI7XG4gIGltYWdlOiBzdHJpbmc7XG4gIHF1YW50aXR5OiBudW1iZXI7XG59XG5cbmNsYXNzIERPTVNob3BwaW5nQ2FydCB7XG4gIHB1YmxpYyBjYXJ0V3JhcHBlcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2hvcHBpbmctY2FydF9fd3JhcHBlcicpIVxuICBwdWJsaWMgbGlzdDogSFRNTFVMaXN0RWxlbWVudD10aGlzLmNhcnRXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5zaG9wcGluZy1jYXJ0X19saXN0JykhXG4gIHB1YmxpYyBzdW1BbW91bnRIVE1MOiBIVE1MRWxlbWVudD10aGlzLmNhcnRXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5zaG9wcGluZy1jYXJ0X190b3RhbF9hbW91bnQnKSFcbiAgcHVibGljIGNhcnRCb2R5OiBIVE1MRWxlbWVudD10aGlzLmNhcnRXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5zaG9wcGluZy1jYXJ0JykhXG4gIHB1YmxpYyBidG5FeGl0OiBIVE1MQnV0dG9uRWxlbWVudCA9dGhpcy5jYXJ0Qm9keS5xdWVyeVNlbGVjdG9yKCcuc2hvcHBpbmctY2FydF9fYnRuX2V4aXQnKSFcbiAgcHVibGljIGhlYWRlckNhcnRJY29uOiBIVE1MRWxlbWVudD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLWNhcnRfX3F1YW50aXR5JykhXG59XG5cbmV4cG9ydCBjbGFzcyBTaG9wcGluZ0NhcnQge1xuXG4gIHB1YmxpYyBpdGVtczogSUNhcnRJdGVtU3RvcmVkW10gPSBbXTtcbiAgX3N1bSE6IG51bWJlclxuICBwcml2YXRlIF9ET006IERPTVNob3BwaW5nQ2FydDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICByZW5kZXJGbi5yZW5kZXJUZW1wbGF0ZVNob3BwaW5nQ2FydCgpXG4gICAgdGhpcy5fRE9NID0gbmV3IERPTVNob3BwaW5nQ2FydCgpXG4gICAgdGhpcy5yZVJlbmRlckNhcnQoKTtcbiAgfVxuICBwcml2YXRlIF9zYXZlQ2FydCA9ICgpPT57XG4gICAgbWVtb3J5Rm4uc2F2ZUNhcnRJdGVtcyh0aGlzLml0ZW1zKVxuICB9XG5cbiAgcmVSZW5kZXJDYXJ0ID0gKCkgPT4ge1xuICAgIHRoaXMuX2dldFRvdGFsU3VtKCk7XG4gICAgdGhpcy5fRE9NLmxpc3QuaW5uZXJIVE1MID0gJyc7XG4gICAgdGhpcy5pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBpZiAoaXRlbS5xdWFudGl0eSA+IDApIHtcbiAgICAgICAgdGhpcy5fRE9NLmxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCByZW5kZXJGbi5yZW5kZXJTaG9wcGluZ0NhcnRJdGVtKGl0ZW0pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLl9jaGFuZ2VTdW0oKTtcbiAgICB0aGlzLl9zYXZlQ2FydCgpXG4gIH07XG5cbiAgcHJpdmF0ZSBfY2hhbmdlSGVhZGVySWNvbiA9ICgpID0+IHtcbiAgICBjb25zdCBxdWFudGl0eU9mSXRlbXMgPSB0aGlzLml0ZW1zLmxlbmd0aDtcbiAgICB0aGlzLl9ET00uaGVhZGVyQ2FydEljb24uaW5uZXJIVE1MID0gYCR7cXVhbnRpdHlPZkl0ZW1zfWA7XG4gIH07XG5cbiAgcHJpdmF0ZSBfY2hhbmdlU3VtID0gKCkgPT4ge1xuICAgIHRoaXMuX2dldFRvdGFsU3VtKCk7XG4gICAgdGhpcy5fRE9NLnN1bUFtb3VudEhUTUwuaW5uZXJIVE1MID0gYCQke3RoaXMuX3N1bX1gO1xuICB9O1xuXG4gIHByaXZhdGUgX2dldFRvdGFsU3VtID0gKCkgPT4ge1xuICAgIGlmICh0aGlzLml0ZW1zLmxlbmd0aCAhPT0gMCkge1xuICAgICAgdGhpcy5fc3VtID0gdGhpcy5pdGVtcy5yZWR1Y2UoKHN1bTogbnVtYmVyLCBlbGVtKSA9PiBzdW0gKyBlbGVtLnByaWNlLCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fc3VtID0gMDtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBfaGlkZVNob3BwaW5nQ2FydCA9IChlOiBFdmVudCkgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0ISBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAoIXRoaXMuX0RPTS5jYXJ0Qm9keS5jb250YWlucyh0YXJnZXQpIHx8IHRoaXMuX0RPTS5idG5FeGl0LmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgIHRoaXMuX0RPTS5jYXJ0V3JhcHBlci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oaWRlU2hvcHBpbmdDYXJ0KTtcbiAgICB9XG4gIH07XG5cbiAgc2hvd1Nob3BwaW5nQ2FydCA9ICgpID0+IHtcbiAgICB0aGlzLl9ET00uY2FydFdyYXBwZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2hpZGVTaG9wcGluZ0NhcnQpO1xuICAgIHRoaXMucmVSZW5kZXJDYXJ0KCk7XG4gIH07XG5cbiAgYWRkUXVhbnRpdHlUb0l0ZW0gPSAoaWQ6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IGluZGV4T2ZJdGVtID0gdGhpcy5pdGVtcy5maW5kSW5kZXgoKGVsZW0pID0+IGVsZW0uaWQgPT09IGlkKTtcbiAgICBpZiAoaW5kZXhPZkl0ZW0gIT09IC0xKSB7XG4gICAgICB0aGlzLml0ZW1zW2luZGV4T2ZJdGVtXS5xdWFudGl0eSArPSAxO1xuICAgICAgdGhpcy5yZVJlbmRlckNhcnQoKTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBfZ2V0SXRlbUJ5SWQgPSAoaWQ6IG51bWJlcikgPT4gdGhpcy5pdGVtcy5maW5kKChlbGVtKSA9PiBlbGVtLmlkID09PSBpZCk7XG5cbiAgcmVkdWNlSXRlbUZyb21DYXJ0QnlJRCA9IChpZDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgaXRlbSA9IHRoaXMuX2dldEl0ZW1CeUlkKGlkKSE7XG4gICAgaWYgKGl0ZW0ucXVhbnRpdHkgPT0gMSkge1xuICAgICAgdGhpcy5kZWxldGVJdGVtQnlJZChpZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGl0ZW0ucXVhbnRpdHkgLT0gMTtcbiAgICB9XG4gICAgdGhpcy5yZVJlbmRlckNhcnQoKTtcbiAgfTtcblxuICBkZWxldGVJdGVtQnlJZCA9IChpZDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLml0ZW1zLmZpbmRJbmRleCgoZWxlbSkgPT4gZWxlbS5pZCA9PT0gaWQpO1xuICAgIGlmIChjb25maXJtKGBSZW1vdmUgZnJvbSBjYXJ0IGl0ZW06ICR7dGhpcy5pdGVtc1tpbmRleF0udGl0bGV9YCkpIHtcbiAgICAgIGNvbnN0IGFyciA9IFsuLi50aGlzLml0ZW1zXTtcbiAgICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgdGhpcy5pdGVtcyA9IGFycjtcbiAgICAgIHRoaXMucmVSZW5kZXJDYXJ0KCk7XG4gICAgICB0aGlzLl9jaGFuZ2VIZWFkZXJJY29uKCk7XG4gICAgfVxuICB9O1xuXG4gIGFkZEl0ZW1Ub0NhcnQgPSAoaXRlbTogSUNhcnRJdGVtU3RvcmVkKSA9PiB7XG4gICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pO1xuICAgIHRoaXMuX2NoYW5nZUhlYWRlckljb24oKTtcbiAgICB0aGlzLl9zYXZlQ2FydCgpXG4gIH07XG5cbiAgcmVtb3ZlQWxsID0gKCkgPT4ge1xuICAgIGlmIChjb25maXJtKCdDbGVhciBjYXJ0PycpKSB7XG4gICAgICB0aGlzLml0ZW1zLmxlbmd0aCA9IDA7XG4gICAgICB0aGlzLnJlUmVuZGVyQ2FydCgpO1xuICAgICAgdGhpcy5fY2hhbmdlSGVhZGVySWNvbigpO1xuICAgIH1cbiAgfTtcbn1cblxuY29uc3Qgc2hvcHBpbmdDYXJ0ID0gbmV3IFNob3BwaW5nQ2FydCgpO1xuZXhwb3J0IGRlZmF1bHQgc2hvcHBpbmdDYXJ0O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgJy4uL2luZGV4Lmh0bWwnO1xuaW1wb3J0ICcuLi9wcm9kdWN0cy5odG1sJztcbmltcG9ydCAnLi4vc2Fzcy9zdHlsZS5zYXNzJztcblxuaW1wb3J0ICcuL2NvbXBvbmVudC9hcHAnO1xuXG5cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==